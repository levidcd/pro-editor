!(function(){var Yn=Object.defineProperty,Xn=Object.defineProperties;var Jn=Object.getOwnPropertyDescriptors;var kn=Object.getOwnPropertySymbols;var Qn=Object.prototype.hasOwnProperty,qn=Object.prototype.propertyIsEnumerable;var $n=(J,le,v)=>le in J?Yn(J,le,{enumerable:!0,configurable:!0,writable:!0,value:v}):J[le]=v,An=(J,le)=>{for(var v in le||(le={}))Qn.call(le,v)&&$n(J,v,le[v]);if(kn)for(var v of kn(le))qn.call(le,v)&&$n(J,v,le[v]);return J},jn=(J,le)=>Xn(J,Jn(le));(self.webpackChunk_ant_design_pro_editor=self.webpackChunk_ant_design_pro_editor||[]).push([[9319],{57191:function(J,le,v){"use strict";v.d(le,{T:function(){return fe},n:function(){return P}});function P(z){return["small","middle","large"].includes(z)}function fe(z){return z?typeof z=="number"&&!Number.isNaN(z):!1}},74629:function(J,le,v){"use strict";v.d(le,{C:function(){return Pe}});var P=v(50959),fe=v(82187),z=v.n(fe),N=v(12682),j=v(78404),w=v(27189),u=v(92576),g=v(50483),R=v(21006),h=P.createContext({}),o=v(63504),s=v(55985),S=v(87077),f=v(37324);const p=U=>{const{antCls:B,componentCls:oe,iconCls:Y,avatarBg:ne,avatarColor:G,containerSize:Q,containerSizeLG:de,containerSizeSM:me,textFontSize:Ce,textFontSizeLG:Ne,textFontSizeSM:je,borderRadius:Se,borderRadiusLG:Be,borderRadiusSM:ke,lineWidth:xe,lineType:Te,calc:C}=U,A=($,Z,V)=>({width:$,height:$,lineHeight:(0,o.bf)(C($).sub(C(xe).mul(2)).equal()),borderRadius:"50%",[`&${oe}-square`]:{borderRadius:V},[`${oe}-string`]:{position:"absolute",left:{_skip_check_:!0,value:"50%"},transformOrigin:"0 center"},[`&${oe}-icon`]:{fontSize:Z,[`> ${Y}`]:{margin:0}}});return{[oe]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,s.Wf)(U)),{position:"relative",display:"inline-block",overflow:"hidden",color:G,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:ne,border:`${(0,o.bf)(xe)} ${Te} transparent`,["&-image"]:{background:"transparent"},[`${B}-image-img`]:{display:"block"}}),A(Q,Ce,Se)),{["&-lg"]:Object.assign({},A(de,Ne,Be)),["&-sm"]:Object.assign({},A(me,je,ke)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},E=U=>{const{componentCls:B,groupBorderColor:oe,groupOverlapping:Y,groupSpace:ne}=U;return{[`${B}-group`]:{display:"inline-flex",[`${B}`]:{borderColor:oe},["> *:not(:first-child)"]:{marginInlineStart:Y}},[`${B}-group-popover`]:{[`${B} + ${B}`]:{marginInlineStart:ne}}}},i=U=>{const{controlHeight:B,controlHeightLG:oe,controlHeightSM:Y,fontSize:ne,fontSizeLG:G,fontSizeXL:Q,fontSizeHeading3:de,marginXS:me,marginXXS:Ce,colorBorderBg:Ne}=U;return{containerSize:B,containerSizeLG:oe,containerSizeSM:Y,textFontSize:Math.round((G+Q)/2),textFontSizeLG:de,textFontSizeSM:ne,groupSpace:Ce,groupOverlapping:-me,groupBorderColor:Ne}};var l=(0,S.I$)("Avatar",U=>{const{colorTextLightSolid:B,colorTextPlaceholder:oe}=U,Y=(0,f.TS)(U,{avatarBg:oe,avatarColor:B});return[p(Y),E(Y)]},i),a=v(12158),y=function(U,B){var oe={};for(var Y in U)Object.prototype.hasOwnProperty.call(U,Y)&&B.indexOf(Y)<0&&(oe[Y]=U[Y]);if(U!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ne=0,Y=Object.getOwnPropertySymbols(U);ne<Y.length;ne++)B.indexOf(Y[ne])<0&&Object.prototype.propertyIsEnumerable.call(U,Y[ne])&&(oe[Y[ne]]=U[Y[ne]]);return oe};const d=(U,B)=>{const[oe,Y]=P.useState(1),[ne,G]=P.useState(!1),[Q,de]=P.useState(!0),me=P.useRef(null),Ce=P.useRef(null),Ne=(0,j.sQ)(B,me),{getPrefixCls:je,avatar:Se}=P.useContext(u.E_),Be=P.useContext(h),ke=()=>{if(!Ce.current||!me.current)return;const b=Ce.current.offsetWidth,O=me.current.offsetWidth;if(b!==0&&O!==0){const{gap:D=4}=U;D*2<O&&Y(O-D*2<b?(O-D*2)/b:1)}};P.useEffect(()=>{G(!0)},[]),P.useEffect(()=>{de(!0),Y(1)},[U.src]),P.useEffect(ke,[U.gap]);const xe=()=>{const{onError:b}=U;(b==null?void 0:b())!==!1&&de(!1)},{prefixCls:Te,shape:C,size:A,src:$,srcSet:Z,icon:V,className:e,rootClassName:t,alt:n,draggable:c,children:_,crossOrigin:I}=U,F=y(U,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),te=(0,g.Z)(b=>{var O,D;return(D=(O=A!=null?A:Be==null?void 0:Be.size)!==null&&O!==void 0?O:b)!==null&&D!==void 0?D:"default"}),pe=Object.keys(typeof te=="object"?te||{}:{}).some(b=>["xs","sm","md","lg","xl","xxl"].includes(b)),ye=(0,R.Z)(pe),ve=P.useMemo(()=>{if(typeof te!="object")return{};const b=w.c4.find(D=>ye[D]),O=te[b];return O?{width:O,height:O,lineHeight:`${O}px`,fontSize:O&&(V||_)?O/2:18}:{}},[ye,te]),ce=je("avatar",Te),Ke=(0,a.Z)(ce),[tt,Ue,xt]=l(ce,Ke),ut=z()({[`${ce}-lg`]:te==="large",[`${ce}-sm`]:te==="small"}),ot=P.isValidElement($),Wt=C||(Be==null?void 0:Be.shape)||"circle",pn=z()(ce,ut,Se==null?void 0:Se.className,`${ce}-${Wt}`,{[`${ce}-image`]:ot||$&&Q,[`${ce}-icon`]:!!V},xt,Ke,e,t,Ue),Ht=typeof te=="number"?{width:te,height:te,lineHeight:`${te}px`,fontSize:V?te/2:18}:{};let pt;if(typeof $=="string"&&Q)pt=P.createElement("img",{src:$,draggable:c,srcSet:Z,onError:xe,alt:n,crossOrigin:I});else if(ot)pt=$;else if(V)pt=V;else if(ne||oe!==1){const b=`scale(${oe}) translateX(-50%)`,O={msTransform:b,WebkitTransform:b,transform:b},D=typeof te=="number"?{lineHeight:`${te}px`}:{};pt=P.createElement(N.Z,{onResize:ke},P.createElement("span",{className:`${ce}-string`,ref:Ce,style:Object.assign(Object.assign({},D),O)},_))}else pt=P.createElement("span",{className:`${ce}-string`,style:{opacity:0},ref:Ce},_);return delete F.onError,delete F.gap,tt(P.createElement("span",Object.assign({},F,{style:Object.assign(Object.assign(Object.assign(Object.assign({},Ht),ve),Se==null?void 0:Se.style),F.style),className:pn,ref:Ne}),pt))};var L=P.forwardRef(d),m=v(71783),x=v(37530),k=v(37865);const W=U=>{const{size:B,shape:oe}=P.useContext(h),Y=P.useMemo(()=>({size:U.size||B,shape:U.shape||oe}),[U.size,U.shape,B,oe]);return P.createElement(h.Provider,{value:Y},U.children)};var ue=U=>{const{getPrefixCls:B,direction:oe}=P.useContext(u.E_),{prefixCls:Y,className:ne,rootClassName:G,style:Q,maxCount:de,maxStyle:me,size:Ce,shape:Ne,maxPopoverPlacement:je="top",maxPopoverTrigger:Se="hover",children:Be}=U,ke=B("avatar",Y),xe=`${ke}-group`,Te=(0,a.Z)(ke),[C,A,$]=l(ke,Te),Z=z()(xe,{[`${xe}-rtl`]:oe==="rtl"},$,Te,ne,G,A),V=(0,m.Z)(Be).map((t,n)=>(0,k.Tm)(t,{key:`avatar-key-${n}`})),e=V.length;if(de&&de<e){const t=V.slice(0,de),n=V.slice(de,e);return t.push(P.createElement(x.Z,{key:"avatar-popover-key",content:n,trigger:Se,placement:je,overlayClassName:`${xe}-popover`},P.createElement(L,{style:me},`+${e-de}`))),C(P.createElement(W,{shape:Ne,size:Ce},P.createElement("div",{className:Z,style:Q},t)))}return C(P.createElement(W,{shape:Ne,size:Ce},P.createElement("div",{className:Z,style:Q},V)))};const he=L;he.Group=ue;var Pe=he},6479:function(J,le,v){"use strict";v.d(le,{C2:function(){return w}});var P=v(63504),fe=v(55985),z=v(37324),N=v(87077);const j=g=>{const{checkboxCls:R}=g,r=`${R}-wrapper`;return[{[`${R}-group`]:Object.assign(Object.assign({},(0,fe.Wf)(g)),{display:"inline-flex",flexWrap:"wrap",columnGap:g.marginXS,[`> ${g.antCls}-row`]:{flex:1}}),[r]:Object.assign(Object.assign({},(0,fe.Wf)(g)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${r}`]:{marginInlineStart:0},[`&${r}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[R]:Object.assign(Object.assign({},(0,fe.Wf)(g)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:g.borderRadiusSM,alignSelf:"center",[`${R}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${R}-inner`]:Object.assign({},(0,fe.oN)(g))},[`${R}-inner`]:{boxSizing:"border-box",display:"block",width:g.checkboxSize,height:g.checkboxSize,direction:"ltr",backgroundColor:g.colorBgContainer,border:`${(0,P.bf)(g.lineWidth)} ${g.lineType} ${g.colorBorder}`,borderRadius:g.borderRadiusSM,borderCollapse:"separate",transition:`all ${g.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:g.calc(g.checkboxSize).div(14).mul(5).equal(),height:g.calc(g.checkboxSize).div(14).mul(8).equal(),border:`${(0,P.bf)(g.lineWidthBold)} solid ${g.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${g.motionDurationFast} ${g.motionEaseInBack}, opacity ${g.motionDurationFast}`}},"& + span":{paddingInlineStart:g.paddingXS,paddingInlineEnd:g.paddingXS}})},{[`
        ${r}:not(${r}-disabled),
        ${R}:not(${R}-disabled)
      `]:{[`&:hover ${R}-inner`]:{borderColor:g.colorPrimary}},[`${r}:not(${r}-disabled)`]:{[`&:hover ${R}-checked:not(${R}-disabled) ${R}-inner`]:{backgroundColor:g.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${R}-checked:not(${R}-disabled):after`]:{borderColor:g.colorPrimaryHover}}},{[`${R}-checked`]:{[`${R}-inner`]:{backgroundColor:g.colorPrimary,borderColor:g.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${g.motionDurationMid} ${g.motionEaseOutBack} ${g.motionDurationFast}`}}},[`
        ${r}-checked:not(${r}-disabled),
        ${R}-checked:not(${R}-disabled)
      `]:{[`&:hover ${R}-inner`]:{backgroundColor:g.colorPrimaryHover,borderColor:"transparent"}}},{[R]:{"&-indeterminate":{[`${R}-inner`]:{backgroundColor:g.colorBgContainer,borderColor:g.colorBorder,"&:after":{top:"50%",insetInlineStart:"50%",width:g.calc(g.fontSizeLG).div(2).equal(),height:g.calc(g.fontSizeLG).div(2).equal(),backgroundColor:g.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{[`${r}-disabled`]:{cursor:"not-allowed"},[`${R}-disabled`]:{[`&, ${R}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${R}-inner`]:{background:g.colorBgContainerDisabled,borderColor:g.colorBorder,"&:after":{borderColor:g.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:g.colorTextDisabled},[`&${R}-indeterminate ${R}-inner::after`]:{background:g.colorTextDisabled}}}]};function w(g,R){const r=(0,z.TS)(R,{checkboxCls:`.${g}`,checkboxSize:R.controlInteractiveSize});return[j(r)]}var u=(0,N.I$)("Checkbox",(g,R)=>{let{prefixCls:r}=R;return[w(r,g)]})},21006:function(J,le,v){"use strict";v.d(le,{Z:function(){return w}});var P=v(50959),fe=v(80918);function z(){const[,u]=P.useReducer(g=>g+1,0);return u}var N=v(27189);function j(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const g=(0,P.useRef)({}),R=z(),r=(0,N.ZP)();return(0,fe.Z)(()=>{const h=r.subscribe(o=>{g.current=o,u&&R()});return()=>r.unsubscribe(h)},[]),g.current}var w=j},41812:function(J,le,v){"use strict";v.d(le,{Z:function(){return p}});var P=v(50959),fe=v(82187),z=v.n(fe),N=v(71783),j=v(57191),w=v(92576),u=v(58163);const g=P.createContext({latestIndex:0}),R=g.Provider;var h=E=>{let{className:i,index:l,children:a,split:y,style:d}=E;const{latestIndex:T}=P.useContext(g);return a==null?null:P.createElement(P.Fragment,null,P.createElement("div",{className:i,style:d},a),l<T&&y&&P.createElement("span",{className:`${i}-split`},y))},o=v(425),s=function(E,i){var l={};for(var a in E)Object.prototype.hasOwnProperty.call(E,a)&&i.indexOf(a)<0&&(l[a]=E[a]);if(E!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,a=Object.getOwnPropertySymbols(E);y<a.length;y++)i.indexOf(a[y])<0&&Object.prototype.propertyIsEnumerable.call(E,a[y])&&(l[a[y]]=E[a[y]]);return l};const f=P.forwardRef((E,i)=>{var l,a;const{getPrefixCls:y,space:d,direction:T}=P.useContext(w.E_),{size:L=(d==null?void 0:d.size)||"small",align:m,className:x,rootClassName:k,children:W,direction:ae="horizontal",prefixCls:ue,split:he,style:Pe,wrap:U=!1,classNames:B,styles:oe}=E,Y=s(E,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[ne,G]=Array.isArray(L)?L:[L,L],Q=(0,j.n)(G),de=(0,j.n)(ne),me=(0,j.T)(G),Ce=(0,j.T)(ne),Ne=(0,N.Z)(W,{keepEmpty:!0}),je=m===void 0&&ae==="horizontal"?"center":m,Se=y("space",ue),[Be,ke,xe]=(0,o.Z)(Se),Te=z()(Se,d==null?void 0:d.className,ke,`${Se}-${ae}`,{[`${Se}-rtl`]:T==="rtl",[`${Se}-align-${je}`]:je,[`${Se}-gap-row-${G}`]:Q,[`${Se}-gap-col-${ne}`]:de},x,k,xe),C=z()(`${Se}-item`,(l=B==null?void 0:B.item)!==null&&l!==void 0?l:(a=d==null?void 0:d.classNames)===null||a===void 0?void 0:a.item);let A=0;const $=Ne.map((e,t)=>{var n,c;e!=null&&(A=t);const _=e&&e.key||`${C}-${t}`;return P.createElement(h,{className:C,key:_,index:t,split:he,style:(n=oe==null?void 0:oe.item)!==null&&n!==void 0?n:(c=d==null?void 0:d.styles)===null||c===void 0?void 0:c.item},e)}),Z=P.useMemo(()=>({latestIndex:A}),[A]);if(Ne.length===0)return null;const V={};return U&&(V.flexWrap="wrap"),!de&&Ce&&(V.columnGap=ne),!Q&&me&&(V.rowGap=G),Be(P.createElement("div",Object.assign({ref:i,className:Te,style:Object.assign(Object.assign(Object.assign({},V),d==null?void 0:d.style),Pe)},Y),P.createElement(R,{value:Z},$)))});f.Compact=u.ZP;var p=f},5304:function(J,le,v){"use strict";v.d(le,{Z:function(){return dt}});var P=v(50959),fe=v(82187),z=v.n(fe),N=v(37469),j=v(88396),w=v(53262),u=v(81322),g=v(48230),R=v(59307),r=v(43984),h=v(32986),o=v(4909),s=v(29953),S=v(24694),f=function(M){var X=P.useRef({valueLabels:new Map});return P.useMemo(function(){var re=X.current.valueLabels,ie=new Map,ee=M.map(function(be){var ge,we=be.value,_e=(ge=be.label)!==null&&ge!==void 0?ge:re.get(we);return ie.set(we,_e),(0,w.Z)((0,w.Z)({},be),{},{label:_e})});return X.current.valueLabels=ie,[ee]},[M])},p=function(M,X,re,ie){return P.useMemo(function(){var ee=M.map(function(_e){var Ie=_e.value;return Ie}),be=X.map(function(_e){var Ie=_e.value;return Ie}),ge=ee.filter(function(_e){return!ie[_e]});if(re){var we=(0,o.S)(ee,!0,ie);ee=we.checkedKeys,be=we.halfCheckedKeys}return[Array.from(new Set([].concat((0,j.Z)(ge),(0,j.Z)(ee)))),be]},[M,X,re,ie])},E=v(74409),i=function(M,X){return P.useMemo(function(){var re=(0,E.I8)(M,{fieldNames:X,initWrapper:function(ee){return(0,w.Z)((0,w.Z)({},ee),{},{valueEntities:new Map})},processEntity:function(ee,be){var ge=ee.node[X.value];if(!1)var we;be.valueEntities.set(ge,ee)}});return re},[M,X])},l=v(67469),a=v(71783),y=function(){return null},d=y,T=["children","value"];function L(M){return(0,a.Z)(M).map(function(X){if(!P.isValidElement(X)||!X.type)return null;var re=X,ie=re.key,ee=re.props,be=ee.children,ge=ee.value,we=(0,g.Z)(ee,T),_e=(0,w.Z)({key:ie,value:ge},we),Ie=L(be);return Ie.length&&(_e.children=Ie),_e}).filter(function(X){return X})}function m(M){if(!M)return M;var X=(0,w.Z)({},M);return"props"in X||Object.defineProperty(X,"props",{get:function(){return(0,S.ZP)(!1,"New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access."),X}}),X}function x(M,X,re,ie,ee,be){var ge=null,we=null;function _e(){function Ie(Oe){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0",Qe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return Oe.map(function(Ve,st){var qe="".concat(nt,"-").concat(st),at=Ve[be.value],gt=re.includes(at),Tt=Ie(Ve[be.children]||[],qe,gt),wt=P.createElement(d,Ve,Tt.map(function(rt){return rt.node}));if(X===at&&(ge=wt),gt){var We={pos:qe,node:wt,children:Tt};return Qe||we.push(We),We}return null}).filter(function(Ve){return Ve})}we||(we=[],Ie(ie),we.sort(function(Oe,nt){var Qe=Oe.node.props.value,Ve=nt.node.props.value,st=re.indexOf(Qe),qe=re.indexOf(Ve);return st-qe}))}Object.defineProperty(M,"triggerNode",{get:function(){return(0,S.ZP)(!1,"`triggerNode` is deprecated. Please consider decoupling data with node."),_e(),ge}}),Object.defineProperty(M,"allCheckedNodes",{get:function(){return(0,S.ZP)(!1,"`allCheckedNodes` is deprecated. Please consider decoupling data with node."),_e(),ee?we:we.map(function(Oe){var nt=Oe.node;return nt})}})}var k=function(M,X,re){var ie=re.treeNodeFilterProp,ee=re.filterTreeNode,be=re.fieldNames,ge=be.children;return P.useMemo(function(){if(!X||ee===!1)return M;var we;if(typeof ee=="function")we=ee;else{var _e=X.toUpperCase();we=function(nt,Qe){var Ve=Qe[ie];return String(Ve).toUpperCase().includes(_e)}}function Ie(Oe){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Oe.reduce(function(Qe,Ve){var st=Ve[ge],qe=nt||we(X,m(Ve)),at=Ie(st||[],qe);return(qe||at.length)&&Qe.push((0,w.Z)((0,w.Z)({},Ve),{},(0,l.Z)({isLeaf:void 0},ge,at))),Qe},[])}return Ie(M)},[M,X,ge,ie,ee])};function W(M){var X=P.useRef();X.current=M;var re=P.useCallback(function(){return X.current.apply(X,arguments)},[]);return re}function ae(M,X){var re=X.id,ie=X.pId,ee=X.rootPId,be={},ge=[],we=M.map(function(_e){var Ie=(0,w.Z)({},_e),Oe=Ie[re];return be[Oe]=Ie,Ie.key=Ie.key||Oe,Ie});return we.forEach(function(_e){var Ie=_e[ie],Oe=be[Ie];Oe&&(Oe.children=Oe.children||[],Oe.children.push(_e)),(Ie===ee||!Oe&&ee===null)&&ge.push(_e)}),ge}function ue(M,X,re){return P.useMemo(function(){return M?re?ae(M,(0,w.Z)({id:"id",pId:"pId",rootPId:null},re!==!0?re:{})):M:L(X)},[X,re,M])}var he=P.createContext(null),Pe=he,U=v(75924),B=v(1952),oe=v(85144),Y=P.createContext(null),ne=Y;function G(M){return Array.isArray(M)?M:M!==void 0?[M]:[]}function Q(M){var X=M||{},re=X.label,ie=X.value,ee=X.children,be=ie||"value";return{_title:re?[re]:["title","label"],value:be,key:be,children:ee||"children"}}function de(M){return!M||M.disabled||M.disableCheckbox||M.checkable===!1}function me(M,X){var re=[];function ie(ee){ee.forEach(function(be){var ge=be[X.children];ge&&(re.push(be[X.value]),ie(ge))})}return ie(M),re}function Ce(M){return M==null}var Ne={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},je=function(X,re){var ie=(0,r.lk)(),ee=ie.prefixCls,be=ie.multiple,ge=ie.searchValue,we=ie.toggleOpen,_e=ie.open,Ie=ie.notFoundContent,Oe=P.useContext(ne),nt=Oe.virtual,Qe=Oe.listHeight,Ve=Oe.listItemHeight,st=Oe.listItemScrollOffset,qe=Oe.treeData,at=Oe.fieldNames,gt=Oe.onSelect,Tt=Oe.dropdownMatchSelectWidth,wt=Oe.treeExpandAction,We=P.useContext(Pe),rt=We.checkable,et=We.checkedKeys,en=We.halfCheckedKeys,Nt=We.treeExpandedKeys,gn=We.treeDefaultExpandAll,yn=We.treeDefaultExpandedKeys,tn=We.onTreeExpand,Dt=We.treeIcon,Kt=We.showTreeIcon,yt=We.switcherIcon,nn=We.treeLine,Rt=We.treeNodeFilterProp,Mt=We.loadData,mt=We.treeLoadedKeys,rn=We.treeMotion,on=We.onTreeLoad,sn=We.keyEntities,Ct=P.useRef(),Xe=(0,B.Z)(function(){return qe},[_e,qe],function(Ge,De){return De[0]&&Ge[1]!==De[1]}),zt=P.useState(null),vt=(0,u.Z)(zt,2),Lt=vt[0],kt=vt[1],lt=sn[Lt],Ot=P.useMemo(function(){return rt?{checked:et,halfChecked:en}:null},[rt,et,en]);P.useEffect(function(){if(_e&&!be&&et.length){var Ge;(Ge=Ct.current)===null||Ge===void 0||Ge.scrollTo({key:et[0]}),kt(et[0])}},[_e]);var Zt=String(ge).toLowerCase(),Vt=function(De){return Zt?String(De[Rt]).toLowerCase().includes(Zt):!1},Gt=P.useState(yn),Yt=(0,u.Z)(Gt,2),Xt=Yt[0],an=Yt[1],mn=P.useState(null),It=(0,u.Z)(mn,2),At=It[0],$t=It[1],ft=P.useMemo(function(){return Nt?(0,j.Z)(Nt):ge?At:Xt},[Xt,At,Nt,ge]);P.useEffect(function(){ge&&$t(me(qe,at))},[ge]);var vn=function(De){an(De),$t(De),tn&&tn(De)},Jt=function(De){De.preventDefault()},St=function(De,Et){var ht=Et.node;rt&&de(ht)||(gt(ht.key,{selected:!et.includes(ht.key)}),be||we(!1))};if(P.useImperativeHandle(re,function(){var Ge;return{scrollTo:(Ge=Ct.current)===null||Ge===void 0?void 0:Ge.scrollTo,onKeyDown:function(Et){var ht,ln=Et.which;switch(ln){case U.Z.UP:case U.Z.DOWN:case U.Z.LEFT:case U.Z.RIGHT:(ht=Ct.current)===null||ht===void 0||ht.onKeyDown(Et);break;case U.Z.ENTER:{if(lt){var jt=(lt==null?void 0:lt.node)||{},bn=jt.selectable,Bt=jt.value;bn!==!1&&St(null,{node:{key:Lt},selected:!et.includes(Bt)})}break}case U.Z.ESC:we(!1)}},onKeyUp:function(){}}}),Xe.length===0)return P.createElement("div",{role:"listbox",className:"".concat(ee,"-empty"),onMouseDown:Jt},Ie);var Qt={fieldNames:at};return mt&&(Qt.loadedKeys=mt),ft&&(Qt.expandedKeys=ft),P.createElement("div",{onMouseDown:Jt},lt&&_e&&P.createElement("span",{style:Ne,"aria-live":"assertive"},lt.node.value),P.createElement(oe.Z,(0,N.Z)({ref:Ct,focusable:!1,prefixCls:"".concat(ee,"-tree"),treeData:Xe,height:Qe,itemHeight:Ve,itemScrollOffset:st,virtual:nt!==!1&&Tt!==!1,multiple:be,icon:Dt,showIcon:Kt,switcherIcon:yt,showLine:nn,loadData:ge?null:Mt,motion:rn,activeKey:Lt,checkable:rt,checkStrictly:!0,checkedKeys:Ot,selectedKeys:rt?[]:et,defaultExpandAll:gn},Qt,{onActiveChange:kt,onSelect:St,onCheck:St,onExpand:vn,onLoad:on,filterTreeNode:Vt,expandAction:wt})))},Se=P.forwardRef(je);Se.displayName="OptionList";var Be=Se,ke="SHOW_ALL",xe="SHOW_PARENT",Te="SHOW_CHILD";function C(M,X,re,ie){var ee=new Set(M);return X===Te?M.filter(function(be){var ge=re[be];return!(ge&&ge.children&&ge.children.some(function(we){var _e=we.node;return ee.has(_e[ie.value])})&&ge.children.every(function(we){var _e=we.node;return de(_e)||ee.has(_e[ie.value])}))}):X===xe?M.filter(function(be){var ge=re[be],we=ge?ge.parent:null;return!(we&&!de(we.node)&&ee.has(we.key))}):M}function A(M){var X=M.searchPlaceholder,re=M.treeCheckStrictly,ie=M.treeCheckable,ee=M.labelInValue,be=M.value,ge=M.multiple;warning(!X,"`searchPlaceholder` has been removed."),re&&ee===!1&&warning(!1,"`treeCheckStrictly` will force set `labelInValue` to `true`."),(ee||re)&&warning(toArray(be).every(function(we){return we&&_typeof(we)==="object"&&"value"in we}),"Invalid prop `value` supplied to `TreeSelect`. You should use { label: string, value: string | number } or [{ label: string, value: string | number }] instead."),re||ge||ie?warning(!be||Array.isArray(be),"`value` should be an array when `TreeSelect` is checkable or multiple."):warning(!Array.isArray(be),"`value` should not be array when `TreeSelect` is single mode.")}var $=null,Z=["id","prefixCls","value","defaultValue","onChange","onSelect","onDeselect","searchValue","inputValue","onSearch","autoClearSearchValue","filterTreeNode","treeNodeFilterProp","showCheckedStrategy","treeNodeLabelProp","multiple","treeCheckable","treeCheckStrictly","labelInValue","fieldNames","treeDataSimpleMode","treeData","children","loadData","treeLoadedKeys","onTreeLoad","treeDefaultExpandAll","treeExpandedKeys","treeDefaultExpandedKeys","onTreeExpand","treeExpandAction","virtual","listHeight","listItemHeight","listItemScrollOffset","onDropdownVisibleChange","dropdownMatchSelectWidth","treeLine","treeIcon","showTreeIcon","switcherIcon","treeMotion"];function V(M){return!M||(0,R.Z)(M)!=="object"}var e=P.forwardRef(function(M,X){var re=M.id,ie=M.prefixCls,ee=ie===void 0?"rc-tree-select":ie,be=M.value,ge=M.defaultValue,we=M.onChange,_e=M.onSelect,Ie=M.onDeselect,Oe=M.searchValue,nt=M.inputValue,Qe=M.onSearch,Ve=M.autoClearSearchValue,st=Ve===void 0?!0:Ve,qe=M.filterTreeNode,at=M.treeNodeFilterProp,gt=at===void 0?"value":at,Tt=M.showCheckedStrategy,wt=M.treeNodeLabelProp,We=M.multiple,rt=M.treeCheckable,et=M.treeCheckStrictly,en=M.labelInValue,Nt=M.fieldNames,gn=M.treeDataSimpleMode,yn=M.treeData,tn=M.children,Dt=M.loadData,Kt=M.treeLoadedKeys,yt=M.onTreeLoad,nn=M.treeDefaultExpandAll,Rt=M.treeExpandedKeys,Mt=M.treeDefaultExpandedKeys,mt=M.onTreeExpand,rn=M.treeExpandAction,on=M.virtual,sn=M.listHeight,Ct=sn===void 0?200:sn,Xe=M.listItemHeight,zt=Xe===void 0?20:Xe,vt=M.listItemScrollOffset,Lt=vt===void 0?0:vt,kt=M.onDropdownVisibleChange,lt=M.dropdownMatchSelectWidth,Ot=lt===void 0?!0:lt,Zt=M.treeLine,Vt=M.treeIcon,Gt=M.showTreeIcon,Yt=M.switcherIcon,Xt=M.treeMotion,an=(0,g.Z)(M,Z),mn=(0,h.ZP)(re),It=rt&&!et,At=rt||et,$t=et||en,ft=At||We,vn=(0,s.Z)(ge,{value:be}),Jt=(0,u.Z)(vn,2),St=Jt[0],Qt=Jt[1],Ge=P.useMemo(function(){return rt?Tt||Te:ke},[Tt,rt]),De=P.useMemo(function(){return Q(Nt)},[JSON.stringify(Nt)]),Et=(0,s.Z)("",{value:Oe!==void 0?Oe:nt,postState:function(Me){return Me||""}}),ht=(0,u.Z)(Et,2),ln=ht[0],jt=ht[1],bn=function(Me){jt(Me),Qe==null||Qe(Me)},Bt=ue(yn,tn,gn),En=i(Bt,De),it=En.keyEntities,Pt=En.valueEntities,_n=P.useCallback(function(Le){var Me=[],$e=[];return Le.forEach(function(He){Pt.has(He)?$e.push(He):Me.push(He)}),{missingRawValues:Me,existRawValues:$e}},[Pt]),cn=k(Bt,ln,{fieldNames:De,treeNodeFilterProp:gt,filterTreeNode:qe}),un=P.useCallback(function(Le){if(Le){if(wt)return Le[wt];for(var Me=De._title,$e=0;$e<Me.length;$e+=1){var He=Le[Me[$e]];if(He!==void 0)return He}}},[De,wt]),wn=P.useCallback(function(Le){var Me=G(Le);return Me.map(function($e){return V($e)?{value:$e}:$e})},[]),xn=P.useCallback(function(Le){var Me=wn(Le);return Me.map(function($e){var He=$e.label,ct=$e.value,Je=$e.halfChecked,ze,Ze=Pt.get(ct);if(Ze){var bt;He=(bt=He)!==null&&bt!==void 0?bt:un(Ze.node),ze=Ze.node.disabled}else if(He===void 0){var Ft=wn(St).find(function(Cn){return Cn.value===ct});He=Ft.label}return{label:He,value:ct,halfChecked:Je,disabled:ze}})},[Pt,un,wn,St]),Pn=P.useMemo(function(){return wn(St)},[wn,St]),Bn=P.useMemo(function(){var Le=[],Me=[];return Pn.forEach(function($e){$e.halfChecked?Me.push($e):Le.push($e)}),[Le,Me]},[Pn]),Nn=(0,u.Z)(Bn,2),dn=Nn[0],Dn=Nn[1],Mn=P.useMemo(function(){return dn.map(function(Le){return Le.value})},[dn]),Fn=p(dn,Dn,It,it),Ln=(0,u.Z)(Fn,2),fn=Ln[0],Tn=Ln[1],Un=P.useMemo(function(){var Le=C(fn,Ge,it,De),Me=Le.map(function(Je){var ze,Ze;return(ze=(Ze=it[Je])===null||Ze===void 0||(Ze=Ze.node)===null||Ze===void 0?void 0:Ze[De.value])!==null&&ze!==void 0?ze:Je}),$e=Me.map(function(Je){var ze=dn.find(function(Ze){return Ze.value===Je});return{value:Je,label:ze==null?void 0:ze.label}}),He=xn($e),ct=He[0];return!ft&&ct&&Ce(ct.value)&&Ce(ct.label)?[]:He.map(function(Je){var ze;return(0,w.Z)((0,w.Z)({},Je),{},{label:(ze=Je.label)!==null&&ze!==void 0?ze:Je.value})})},[De,ft,fn,dn,xn,Ge,it]),Wn=f(Un),Hn=(0,u.Z)(Wn,1),Kn=Hn[0],Rn=W(function(Le,Me,$e){var He=xn(Le);if(Qt(He),st&&jt(""),we){var ct=Le;if(It){var Je=C(Le,Ge,it,De);ct=Je.map(function(_t){var Ut=Pt.get(_t);return Ut?Ut.node[De.value]:_t})}var ze=Me||{triggerValue:void 0,selected:void 0},Ze=ze.triggerValue,bt=ze.selected,Ft=ct;if(et){var Cn=Dn.filter(function(_t){return!ct.includes(_t.value)});Ft=[].concat((0,j.Z)(Ft),(0,j.Z)(Cn))}var Sn=xn(Ft),qt={preValue:dn,triggerValue:Ze},hn=!0;(et||$e==="selection"&&!bt)&&(hn=!1),x(qt,Ze,Le,Bt,hn,De),At?qt.checked=bt:qt.selected=bt;var On=$t?Sn:Sn.map(function(_t){return _t.value});we(ft?On:On[0],$t?null:Sn.map(function(_t){return _t.label}),qt)}}),In=P.useCallback(function(Le,Me){var $e,He=Me.selected,ct=Me.source,Je=it[Le],ze=Je==null?void 0:Je.node,Ze=($e=ze==null?void 0:ze[De.value])!==null&&$e!==void 0?$e:Le;if(!ft)Rn([Ze],{selected:!0,triggerValue:Ze},"option");else{var bt=He?[].concat((0,j.Z)(Mn),[Ze]):fn.filter(function(Ut){return Ut!==Ze});if(It){var Ft=_n(bt),Cn=Ft.missingRawValues,Sn=Ft.existRawValues,qt=Sn.map(function(Ut){return Pt.get(Ut).key}),hn;if(He){var On=(0,o.S)(qt,!0,it);hn=On.checkedKeys}else{var _t=(0,o.S)(qt,{checked:!1,halfCheckedKeys:Tn},it);hn=_t.checkedKeys}bt=[].concat((0,j.Z)(Cn),(0,j.Z)(hn.map(function(Ut){return it[Ut].node[De.value]})))}Rn(bt,{selected:He,triggerValue:Ze},ct||"option")}He||!ft?_e==null||_e(Ze,m(ze)):Ie==null||Ie(Ze,m(ze))},[_n,Pt,it,De,ft,Mn,Rn,It,_e,Ie,fn,Tn]),zn=P.useCallback(function(Le){if(kt){var Me={};Object.defineProperty(Me,"documentClickClose",{get:function(){return(0,S.ZP)(!1,"Second param of `onDropdownVisibleChange` has been removed."),!1}}),kt(Le,Me)}},[kt]),Zn=W(function(Le,Me){var $e=Le.map(function(He){return He.value});if(Me.type==="clear"){Rn($e,{},"selection");return}Me.values.length&&In(Me.values[0].value,{selected:!1,source:"selection"})}),Vn=P.useMemo(function(){return{virtual:on,dropdownMatchSelectWidth:Ot,listHeight:Ct,listItemHeight:zt,listItemScrollOffset:Lt,treeData:cn,fieldNames:De,onSelect:In,treeExpandAction:rn}},[on,Ot,Ct,zt,Lt,cn,De,In,rn]),Gn=P.useMemo(function(){return{checkable:At,loadData:Dt,treeLoadedKeys:Kt,onTreeLoad:yt,checkedKeys:fn,halfCheckedKeys:Tn,treeDefaultExpandAll:nn,treeExpandedKeys:Rt,treeDefaultExpandedKeys:Mt,onTreeExpand:mt,treeIcon:Vt,treeMotion:Xt,showTreeIcon:Gt,switcherIcon:Yt,treeLine:Zt,treeNodeFilterProp:gt,keyEntities:it}},[At,Dt,Kt,yt,fn,Tn,nn,Rt,Mt,mt,Vt,Xt,Gt,Yt,Zt,gt,it]);return P.createElement(ne.Provider,{value:Vn},P.createElement(Pe.Provider,{value:Gn},P.createElement(r.Ac,(0,N.Z)({ref:X},an,{id:mn,prefixCls:ee,mode:ft?"multiple":void 0,displayValues:Kn,onDisplayValuesChange:Zn,searchValue:ln,onSearch:bn,OptionList:Be,emptyOptions:!Bt.length,onDropdownVisibleChange:zn,dropdownMatchSelectWidth:Ot}))))}),t=e;t.TreeNode=d,t.SHOW_ALL=ke,t.SHOW_PARENT=xe,t.SHOW_CHILD=Te;var n=t,c=n,_=v(36760),I=v(33915),F=v(48141),te=v(16239),pe=v(79587),ye=v(92576),ve=v(35572),ce=v(25162),Ke=v(12158),tt=v(50483),Ue=v(59263),xt=v(25181),ut=v(839),ot=v(41779),Wt=v(39188),pn=v(58163),Ht=v(53675),pt=v(63504),b=v(6479),O=v(37324),D=v(87077),H=v(63701);const K=M=>{const{componentCls:X,treePrefixCls:re,colorBgElevated:ie}=M,ee=`.${re}`;return[{[`${X}-dropdown`]:[{padding:`${(0,pt.bf)(M.paddingXS)} ${(0,pt.bf)(M.calc(M.paddingXS).div(2).equal())}`},(0,H.Yk)(re,(0,O.TS)(M,{colorBgContainer:ie})),{[ee]:{borderRadius:0,[`${ee}-list-holder-inner`]:{alignItems:"stretch",[`${ee}-treenode`]:{[`${ee}-node-content-wrapper`]:{flex:"auto"}}}}},(0,b.C2)(`${re}-checkbox`,M),{"&-rtl":{direction:"rtl",[`${ee}-switcher${ee}-switcher_close`]:{[`${ee}-switcher-icon svg`]:{transform:"rotate(90deg)"}}}}]}]},se=null;function q(M,X,re){return(0,D.I$)("TreeSelect",ie=>{const ee=(0,O.TS)(ie,{treePrefixCls:X});return[K(ee)]},H.TM)(M,re)}var Ee=function(M,X){var re={};for(var ie in M)Object.prototype.hasOwnProperty.call(M,ie)&&X.indexOf(ie)<0&&(re[ie]=M[ie]);if(M!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ee=0,ie=Object.getOwnPropertySymbols(M);ee<ie.length;ee++)X.indexOf(ie[ee])<0&&Object.prototype.propertyIsEnumerable.call(M,ie[ee])&&(re[ie[ee]]=M[ie[ee]]);return re};const Re=(M,X)=>{var re,ie,{prefixCls:ee,size:be,disabled:ge,bordered:we=!0,className:_e,rootClassName:Ie,treeCheckable:Oe,multiple:nt,listHeight:Qe=256,listItemHeight:Ve=26,placement:st,notFoundContent:qe,switcherIcon:at,treeLine:gt,getPopupContainer:Tt,popupClassName:wt,dropdownClassName:We,treeIcon:rt=!1,transitionName:et,choiceTransitionName:en="",status:Nt,treeExpandAction:gn,builtinPlacements:yn,dropdownMatchSelectWidth:tn,popupMatchSelectWidth:Dt,allowClear:Kt}=M,yt=Ee(M,["prefixCls","size","disabled","bordered","className","rootClassName","treeCheckable","multiple","listHeight","listItemHeight","placement","notFoundContent","switcherIcon","treeLine","getPopupContainer","popupClassName","dropdownClassName","treeIcon","transitionName","choiceTransitionName","status","treeExpandAction","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","allowClear"]);const{getPopupContainer:nn,getPrefixCls:Rt,renderEmpty:Mt,direction:mt,virtual:rn,popupMatchSelectWidth:on,popupOverflow:sn}=P.useContext(ye.E_),Ct=Rt(),Xe=Rt("select",ee),zt=Rt("select-tree",ee),vt=Rt("tree-select",ee),{compactSize:Lt,compactItemClassnames:kt}=(0,pn.ri)(Xe,mt),lt=(0,Ke.Z)(Xe),Ot=(0,Ke.Z)(vt),[Zt,Vt,Gt]=(0,ut.Z)(Xe,lt),[Yt]=q(vt,zt,Ot),Xt=z()(wt||We,`${vt}-dropdown`,{[`${vt}-dropdown-rtl`]:mt==="rtl"},Ie,Gt,lt,Ot,Vt),an=!!(Oe||nt),mn=(0,Wt.Z)(yt.suffixIcon,yt.showArrow),It=(re=Dt!=null?Dt:tn)!==null&&re!==void 0?re:on,{status:At,hasFeedback:$t,isFormItemInput:ft,feedbackIcon:vn}=P.useContext(Ue.aM),Jt=(0,pe.F)(At,Nt),{suffixIcon:St,removeIcon:Qt,clearIcon:Ge}=(0,ot.Z)(Object.assign(Object.assign({},yt),{multiple:an,showSuffixIcon:mn,hasFeedback:$t,feedbackIcon:vn,prefixCls:Xe,componentName:"TreeSelect"})),De=Kt===!0?{clearIcon:Ge}:Kt;let Et;qe!==void 0?Et=qe:Et=(Mt==null?void 0:Mt("Select"))||P.createElement(ve.Z,{componentName:"Select"});const ht=(0,_.Z)(yt,["suffixIcon","itemIcon","removeIcon","clearIcon","switcherIcon"]),ln=P.useMemo(()=>st!==void 0?st:mt==="rtl"?"bottomRight":"bottomLeft",[st,mt]),jt=(0,tt.Z)(cn=>{var un;return(un=be!=null?be:Lt)!==null&&un!==void 0?un:cn}),bn=P.useContext(ce.Z),Bt=ge!=null?ge:bn,En=z()(!ee&&vt,{[`${Xe}-lg`]:jt==="large",[`${Xe}-sm`]:jt==="small",[`${Xe}-rtl`]:mt==="rtl",[`${Xe}-borderless`]:!we,[`${Xe}-in-form-item`]:ft},(0,pe.Z)(Xe,Jt,$t),kt,_e,Ie,Gt,lt,Ot,Vt),it=cn=>P.createElement(Ht.Z,{prefixCls:zt,switcherIcon:at,treeNodeProps:cn,showLine:gt}),[Pt]=(0,I.Cn)("SelectLike",(ie=yt.dropdownStyle)===null||ie===void 0?void 0:ie.zIndex),_n=P.createElement(c,Object.assign({virtual:rn,disabled:Bt},ht,{dropdownMatchSelectWidth:It,builtinPlacements:(0,xt.Z)(yn,sn),ref:X,prefixCls:Xe,className:En,listHeight:Qe,listItemHeight:Ve,treeCheckable:Oe&&P.createElement("span",{className:`${Xe}-tree-checkbox-inner`}),treeLine:!!gt,suffixIcon:St,multiple:an,placement:ln,removeIcon:Qt,allowClear:De,switcherIcon:it,showTreeIcon:rt,notFoundContent:Et,getPopupContainer:Tt||nn,treeMotion:null,dropdownClassName:Xt,dropdownStyle:Object.assign(Object.assign({},yt.dropdownStyle),{zIndex:Pt}),choiceTransitionName:(0,F.m)(Ct,"",en),transitionName:(0,F.m)(Ct,"slide-up",et),treeExpandAction:gn}));return Zt(Yt(_n))},Ae=P.forwardRef(Re),Ye=(0,te.Z)(Ae);Ae.TreeNode=d,Ae.SHOW_ALL=ke,Ae.SHOW_PARENT=xe,Ae.SHOW_CHILD=Te,Ae._InternalPanelDoNotUseOrYouWillBeFired=Ye;var dt=Ae},57770:function(J,le,v){"use strict";v.d(le,{Z:function(){return Pe}});var P=v(85144),fe=v(88396),z=v(50959),N=v(54946),j=v(69874),w=v(15028),u=v(82187),g=v.n(u),R=v(7856),r=v(74409),h=v(92576),o=v(94081),s=v(48141),S=v(63701);const f=4;function p(U){const{dropPosition:B,dropLevelOffset:oe,prefixCls:Y,indent:ne,direction:G="ltr"}=U,Q=G==="ltr"?"left":"right",de=G==="ltr"?"right":"left",me={[Q]:-oe*ne+f,[de]:0};switch(B){case-1:me.top=-3;break;case 1:me.bottom=-3;break;default:me.bottom=-3,me[Q]=ne+f;break}return z.createElement("div",{style:me,className:`${Y}-drop-indicator`})}var E=v(53675),i=v(45824),a=z.forwardRef((U,B)=>{var oe;const{getPrefixCls:Y,direction:ne,virtual:G,tree:Q}=z.useContext(h.E_),{prefixCls:de,className:me,showIcon:Ce=!1,showLine:Ne,switcherIcon:je,blockNode:Se=!1,children:Be,checkable:ke=!1,selectable:xe=!0,draggable:Te,motion:C,style:A}=U,$=Y("tree",de),Z=Y(),V=C!=null?C:Object.assign(Object.assign({},(0,s.Z)(Z)),{motionAppear:!1}),e=Object.assign(Object.assign({},U),{checkable:ke,selectable:xe,showIcon:Ce,motion:V,blockNode:Se,showLine:!!Ne,dropIndicatorRender:p}),[t,n,c]=(0,S.ZP)($),[,_]=(0,i.ZP)(),I=_.paddingXS/2+(((oe=_.Tree)===null||oe===void 0?void 0:oe.titleHeight)||_.controlHeightSM),F=z.useMemo(()=>{if(!Te)return!1;let pe={};switch(typeof Te){case"function":pe.nodeDraggable=Te;break;case"object":pe=Object.assign({},Te);break;default:break}return pe.icon!==!1&&(pe.icon=pe.icon||z.createElement(o.Z,null)),pe},[Te]),te=pe=>z.createElement(E.Z,{prefixCls:$,switcherIcon:je,treeNodeProps:pe,showLine:Ne});return t(z.createElement(P.Z,Object.assign({itemHeight:I,ref:B,virtual:G},e,{style:Object.assign(Object.assign({},Q==null?void 0:Q.style),A),prefixCls:$,className:g()({[`${$}-icon-hide`]:!Ce,[`${$}-block-node`]:Se,[`${$}-unselectable`]:!xe,[`${$}-rtl`]:ne==="rtl"},Q==null?void 0:Q.className,me,n,c),direction:ne,checkable:ke&&z.createElement("span",{className:`${$}-checkbox-inner`}),selectable:xe,switcherIcon:te,draggable:F}),Be))}),y;(function(U){U[U.None=0]="None",U[U.Start=1]="Start",U[U.End=2]="End"})(y||(y={}));function d(U,B,oe){const{key:Y,children:ne}=oe;function G(Q){const de=Q[Y],me=Q[ne];B(de,Q)!==!1&&d(me||[],B,oe)}U.forEach(G)}function T(U){let{treeData:B,expandedKeys:oe,startKey:Y,endKey:ne,fieldNames:G}=U;const Q=[];let de=y.None;if(Y&&Y===ne)return[Y];if(!Y||!ne)return[];function me(Ce){return Ce===Y||Ce===ne}return d(B,Ce=>{if(de===y.End)return!1;if(me(Ce)){if(Q.push(Ce),de===y.None)de=y.Start;else if(de===y.Start)return de=y.End,!1}else de===y.Start&&Q.push(Ce);return oe.includes(Ce)},(0,r.w$)(G)),Q}function L(U,B,oe){const Y=(0,fe.Z)(B),ne=[];return d(U,(G,Q)=>{const de=Y.indexOf(G);return de!==-1&&(ne.push(Q),Y.splice(de,1)),!!Y.length},(0,r.w$)(oe)),ne}var m=function(U,B){var oe={};for(var Y in U)Object.prototype.hasOwnProperty.call(U,Y)&&B.indexOf(Y)<0&&(oe[Y]=U[Y]);if(U!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ne=0,Y=Object.getOwnPropertySymbols(U);ne<Y.length;ne++)B.indexOf(Y[ne])<0&&Object.prototype.propertyIsEnumerable.call(U,Y[ne])&&(oe[Y[ne]]=U[Y[ne]]);return oe};function x(U){const{isLeaf:B,expanded:oe}=U;return B?z.createElement(N.Z,null):oe?z.createElement(j.Z,null):z.createElement(w.Z,null)}function k(U){let{treeData:B,children:oe}=U;return B||(0,r.zn)(oe)}const W=(U,B)=>{var{defaultExpandAll:oe,defaultExpandParent:Y,defaultExpandedKeys:ne}=U,G=m(U,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const Q=z.useRef(),de=z.useRef(),me=()=>{const{keyEntities:n}=(0,r.I8)(k(G));let c;return oe?c=Object.keys(n):Y?c=(0,R.r7)(G.expandedKeys||ne||[],n):c=G.expandedKeys||ne,c},[Ce,Ne]=z.useState(G.selectedKeys||G.defaultSelectedKeys||[]),[je,Se]=z.useState(()=>me());z.useEffect(()=>{"selectedKeys"in G&&Ne(G.selectedKeys)},[G.selectedKeys]),z.useEffect(()=>{"expandedKeys"in G&&Se(G.expandedKeys)},[G.expandedKeys]);const Be=(n,c)=>{var _;return"expandedKeys"in G||Se(n),(_=G.onExpand)===null||_===void 0?void 0:_.call(G,n,c)},ke=(n,c)=>{var _;const{multiple:I,fieldNames:F}=G,{node:te,nativeEvent:pe}=c,{key:ye=""}=te,ve=k(G),ce=Object.assign(Object.assign({},c),{selected:!0}),Ke=(pe==null?void 0:pe.ctrlKey)||(pe==null?void 0:pe.metaKey),tt=pe==null?void 0:pe.shiftKey;let Ue;I&&Ke?(Ue=n,Q.current=ye,de.current=Ue,ce.selectedNodes=L(ve,Ue,F)):I&&tt?(Ue=Array.from(new Set([].concat((0,fe.Z)(de.current||[]),(0,fe.Z)(T({treeData:ve,expandedKeys:je,startKey:ye,endKey:Q.current,fieldNames:F}))))),ce.selectedNodes=L(ve,Ue,F)):(Ue=[ye],Q.current=ye,de.current=Ue,ce.selectedNodes=L(ve,Ue,F)),(_=G.onSelect)===null||_===void 0||_.call(G,Ue,ce),"selectedKeys"in G||Ne(Ue)},{getPrefixCls:xe,direction:Te}=z.useContext(h.E_),{prefixCls:C,className:A,showIcon:$=!0,expandAction:Z="click"}=G,V=m(G,["prefixCls","className","showIcon","expandAction"]),e=xe("tree",C),t=g()(`${e}-directory`,{[`${e}-directory-rtl`]:Te==="rtl"},A);return z.createElement(a,Object.assign({icon:x,ref:B,blockNode:!0},V,{showIcon:$,expandAction:Z,prefixCls:e,className:t,expandedKeys:je,selectedKeys:Ce,onSelect:ke,onExpand:Be}))};var ue=z.forwardRef(W);const he=a;he.DirectoryTree=ue,he.TreeNode=P.O;var Pe=he},63701:function(J,le,v){"use strict";v.d(le,{TM:function(){return s},Yk:function(){return o}});var P=v(63504),fe=v(6479),z=v(55985),N=v(40283),j=v(37324),w=v(87077);const u=new P.E4("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),g=(f,p)=>({[`.${f}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${p.motionDurationSlow}`}}}),R=(f,p)=>({[`.${f}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:p.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${(0,P.bf)(p.lineWidthBold)} solid ${p.colorPrimary}`,borderRadius:"50%",content:'""'}}}),r=(f,p)=>{const{treeCls:E,treeNodeCls:i,treeNodePadding:l,titleHeight:a,nodeSelectedBg:y,nodeHoverBg:d}=p,T=p.paddingXS;return{[E]:Object.assign(Object.assign({},(0,z.Wf)(p)),{background:p.colorBgContainer,borderRadius:p.borderRadius,transition:`background-color ${p.motionDurationSlow}`,[`&${E}-rtl`]:{[`${E}-switcher`]:{"&_close":{[`${E}-switcher-icon`]:{svg:{transform:"rotate(90deg)"}}}}},[`&-focused:not(:hover):not(${E}-active-focused)`]:Object.assign({},(0,z.oN)(p)),[`${E}-list-holder-inner`]:{alignItems:"flex-start"},[`&${E}-block-node`]:{[`${E}-list-holder-inner`]:{alignItems:"stretch",[`${E}-node-content-wrapper`]:{flex:"auto"},[`${i}.dragging`]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:l,insetInlineStart:0,border:`1px solid ${p.colorPrimary}`,opacity:0,animationName:u,animationDuration:p.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},[`${i}`]:{display:"flex",alignItems:"flex-start",padding:`0 0 ${(0,P.bf)(l)} 0`,outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{[`${E}-node-content-wrapper`]:{color:p.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},[`&-active ${E}-node-content-wrapper`]:{background:p.controlItemBgHover},[`&:not(${i}-disabled).filter-node ${E}-title`]:{color:"inherit",fontWeight:500},"&-draggable":{[`${E}-draggable-icon`]:{flexShrink:0,width:a,lineHeight:`${(0,P.bf)(a)}`,textAlign:"center",visibility:"visible",opacity:.2,transition:`opacity ${p.motionDurationSlow}`,[`${i}:hover &`]:{opacity:.45}},[`&${i}-disabled`]:{[`${E}-draggable-icon`]:{visibility:"hidden"}}}},[`${E}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:a}},[`${E}-draggable-icon`]:{visibility:"hidden"},[`${E}-switcher`]:Object.assign(Object.assign({},g(f,p)),{position:"relative",flex:"none",alignSelf:"stretch",width:a,margin:0,lineHeight:`${(0,P.bf)(a)}`,textAlign:"center",cursor:"pointer",userSelect:"none","&-noop":{cursor:"default"},"&_close":{[`${E}-switcher-icon`]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:p.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:p.calc(a).div(2).equal(),bottom:p.calc(l).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${p.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:p.calc(p.calc(a).div(2).equal()).mul(.8).equal(),height:p.calc(a).div(2).equal(),borderBottom:`1px solid ${p.colorBorder}`,content:'""'}}}),[`${E}-checkbox`]:{top:"initial",marginInlineEnd:T,alignSelf:"flex-start",marginTop:p.marginXXS},[`${E}-node-content-wrapper, ${E}-checkbox + span`]:{position:"relative",zIndex:"auto",minHeight:a,margin:0,padding:`0 ${(0,P.bf)(p.calc(p.paddingXS).div(2).equal())}`,color:"inherit",lineHeight:`${(0,P.bf)(a)}`,background:"transparent",borderRadius:p.borderRadius,cursor:"pointer",transition:`all ${p.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`,"&:hover":{backgroundColor:d},[`&${E}-node-selected`]:{backgroundColor:y},[`${E}-iconEle`]:{display:"inline-block",width:a,height:a,lineHeight:`${(0,P.bf)(a)}`,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},[`${E}-unselectable ${E}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${E}-node-content-wrapper`]:Object.assign({lineHeight:`${(0,P.bf)(a)}`,userSelect:"none"},R(f,p)),[`${i}.drop-container`]:{"> [draggable]":{boxShadow:`0 0 0 2px ${p.colorPrimary}`}},"&-show-line":{[`${E}-indent`]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:p.calc(a).div(2).equal(),bottom:p.calc(l).mul(-1).equal(),borderInlineEnd:`1px solid ${p.colorBorder}`,content:'""'},"&-end":{"&:before":{display:"none"}}}},[`${E}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${i}-leaf-last`]:{[`${E}-switcher`]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:`${(0,P.bf)(p.calc(a).div(2).equal())} !important`}}}}})}},h=f=>{const{treeCls:p,treeNodeCls:E,treeNodePadding:i,directoryNodeSelectedBg:l,directoryNodeSelectedColor:a}=f;return{[`${p}${p}-directory`]:{[E]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:i,insetInlineStart:0,transition:`background-color ${f.motionDurationMid}`,content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:f.controlItemBgHover}},"> *":{zIndex:1},[`${p}-switcher`]:{transition:`color ${f.motionDurationMid}`},[`${p}-node-content-wrapper`]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},[`&${p}-node-selected`]:{color:a,background:"transparent"}},"&-selected":{[`
            &:hover::before,
            &::before
          `]:{background:l},[`${p}-switcher`]:{color:a},[`${p}-node-content-wrapper`]:{color:a,background:"transparent"}}}}}},o=(f,p)=>{const E=`.${f}`,i=`${E}-treenode`,l=p.calc(p.paddingXS).div(2).equal(),a=(0,j.TS)(p,{treeCls:E,treeNodeCls:i,treeNodePadding:l});return[r(f,a),h(a)]},s=f=>{const{controlHeightSM:p}=f;return{titleHeight:p,nodeHoverBg:f.controlItemBgHover,nodeSelectedBg:f.controlItemBgActive}},S=f=>{const{colorTextLightSolid:p,colorPrimary:E}=f;return Object.assign(Object.assign({},s(f)),{directoryNodeSelectedColor:p,directoryNodeSelectedBg:E})};le.ZP=(0,w.I$)("Tree",(f,p)=>{let{prefixCls:E}=p;return[{[f.componentCls]:(0,fe.C2)(`${E}-checkbox`,f)},o(E,f),(0,N.Z)(f)]},S)},53675:function(J,le,v){"use strict";var P=v(51854),fe=v(54946),z=v(55826),N=v(94802),j=v(61242),w=v(82187),u=v.n(w),g=v(50959),R=v(37865);const r=h=>{const{prefixCls:o,switcherIcon:s,treeNodeProps:S,showLine:f}=h,{isLeaf:p,expanded:E,loading:i}=S;if(i)return g.createElement(z.Z,{className:`${o}-switcher-loading-icon`});let l;if(f&&typeof f=="object"&&(l=f.showLeafIcon),p){if(!f)return null;if(typeof l!="boolean"&&l){const d=typeof l=="function"?l(S):l,T=`${o}-switcher-line-custom-icon`;return(0,R.l$)(d)?(0,R.Tm)(d,{className:u()(d.props.className||"",T)}):d}return l?g.createElement(fe.Z,{className:`${o}-switcher-line-icon`}):g.createElement("span",{className:`${o}-switcher-leaf-line`})}const a=`${o}-switcher-icon`,y=typeof s=="function"?s(S):s;return(0,R.l$)(y)?(0,R.Tm)(y,{className:u()(y.props.className||"",a)}):y!==void 0?y:f?E?g.createElement(N.Z,{className:`${o}-switcher-line-icon`}):g.createElement(j.Z,{className:`${o}-switcher-line-icon`}):g.createElement(P.Z,{className:a})};le.Z=r},40396:function(J,le,v){(function(P){if(!0)J.exports=P();else var fe})(function(){var P=Math.floor,fe=Math.abs,z=Math.pow;return function(){function N(j,w,u){function g(h,o){if(!w[h]){if(!j[h]){var s=void 0;if(!o&&s)return require(h,!0);if(R)return R(h,!0);var S=new Error("Cannot find module '"+h+"'");throw S.code="MODULE_NOT_FOUND",S}var f=w[h]={exports:{}};j[h][0].call(f.exports,function(p){var E=j[h][1][p];return g(E||p)},f,f.exports,N,j,w,u)}return w[h].exports}for(var R=void 0,r=0;r<u.length;r++)g(u[r]);return g}return N}()({1:[function(N,j,w){"use strict";function u(l){var a=l.length;if(0<a%4)throw new Error("Invalid string. Length must be a multiple of 4");var y=l.indexOf("=");y===-1&&(y=a);var d=y===a?0:4-y%4;return[y,d]}function g(l,a,y){return 3*(a+y)/4-y}function R(l){var a,y,d=u(l),T=d[0],L=d[1],m=new f(g(l,T,L)),x=0,k=0<L?T-4:T;for(y=0;y<k;y+=4)a=S[l.charCodeAt(y)]<<18|S[l.charCodeAt(y+1)]<<12|S[l.charCodeAt(y+2)]<<6|S[l.charCodeAt(y+3)],m[x++]=255&a>>16,m[x++]=255&a>>8,m[x++]=255&a;return L===2&&(a=S[l.charCodeAt(y)]<<2|S[l.charCodeAt(y+1)]>>4,m[x++]=255&a),L===1&&(a=S[l.charCodeAt(y)]<<10|S[l.charCodeAt(y+1)]<<4|S[l.charCodeAt(y+2)]>>2,m[x++]=255&a>>8,m[x++]=255&a),m}function r(l){return s[63&l>>18]+s[63&l>>12]+s[63&l>>6]+s[63&l]}function h(l,a,y){for(var d,T=[],L=a;L<y;L+=3)d=(16711680&l[L]<<16)+(65280&l[L+1]<<8)+(255&l[L+2]),T.push(r(d));return T.join("")}function o(l){for(var a,y=l.length,d=y%3,T=[],L=16383,m=0,x=y-d;m<x;m+=L)T.push(h(l,m,m+L>x?x:m+L));return d===1?(a=l[y-1],T.push(s[a>>2]+s[63&a<<4]+"==")):d===2&&(a=(l[y-2]<<8)+l[y-1],T.push(s[a>>10]+s[63&a>>4]+s[63&a<<2]+"=")),T.join("")}w.byteLength=function(l){var a=u(l),y=a[0],d=a[1];return 3*(y+d)/4-d},w.toByteArray=R,w.fromByteArray=o;for(var s=[],S=[],f=typeof Uint8Array=="undefined"?Array:Uint8Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E=0,i=p.length;E<i;++E)s[E]=p[E],S[p.charCodeAt(E)]=E;S[45]=62,S[95]=63},{}],2:[function(){},{}],3:[function(N,j,w){(function(){(function(){"use strict";var u=String.fromCharCode,g=Math.min;function R(e){if(2147483647<e)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=r.prototype,t}function r(e,t,n){if(typeof e=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return S(e)}return h(e,t,n)}function h(e,t,n){if(typeof e=="string")return f(e,t);if(ArrayBuffer.isView(e))return p(e);if(e==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(C(e,ArrayBuffer)||e&&C(e.buffer,ArrayBuffer))return E(e,t,n);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var c=e.valueOf&&e.valueOf();if(c!=null&&c!==e)return r.from(c,t,n);var _=i(e);if(_)return _;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return r.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function o(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(0>e)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function s(e,t,n){return o(e),0>=e||t===void 0?R(e):typeof n=="string"?R(e).fill(t,n):R(e).fill(t)}function S(e){return o(e),R(0>e?0:0|l(e))}function f(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!r.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|a(e,t),c=R(n),_=c.write(e,t);return _!==n&&(c=c.slice(0,_)),c}function p(e){for(var t=0>e.length?0:0|l(e.length),n=R(t),c=0;c<t;c+=1)n[c]=255&e[c];return n}function E(e,t,n){if(0>t||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var c;return c=t===void 0&&n===void 0?new Uint8Array(e):n===void 0?new Uint8Array(e,t):new Uint8Array(e,t,n),c.__proto__=r.prototype,c}function i(e){if(r.isBuffer(e)){var t=0|l(e.length),n=R(t);return n.length===0||e.copy(n,0,0,t),n}return e.length===void 0?e.type==="Buffer"&&Array.isArray(e.data)?p(e.data):void 0:typeof e.length!="number"||A(e.length)?R(0):p(e)}function l(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647 .toString(16)+" bytes");return 0|e}function a(e,t){if(r.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||C(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,c=2<arguments.length&&arguments[2]===!0;if(!c&&n===0)return 0;for(var _=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return Se(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return xe(e).length;default:if(_)return c?-1:Se(e).length;t=(""+t).toLowerCase(),_=!0}}function y(e,t,n){var c=!1;if((t===void 0||0>t)&&(t=0),t>this.length||((n===void 0||n>this.length)&&(n=this.length),0>=n)||(n>>>=0,t>>>=0,n<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return Y(this,t,n);case"utf8":case"utf-8":return Pe(this,t,n);case"ascii":return B(this,t,n);case"latin1":case"binary":return oe(this,t,n);case"base64":return he(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne(this,t,n);default:if(c)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),c=!0}}function d(e,t,n){var c=e[t];e[t]=e[n],e[n]=c}function T(e,t,n,c,_){if(e.length===0)return-1;if(typeof n=="string"?(c=n,n=0):2147483647<n?n=2147483647:-2147483648>n&&(n=-2147483648),n=+n,A(n)&&(n=_?0:e.length-1),0>n&&(n=e.length+n),n>=e.length){if(_)return-1;n=e.length-1}else if(0>n)if(_)n=0;else return-1;if(typeof t=="string"&&(t=r.from(t,c)),r.isBuffer(t))return t.length===0?-1:L(e,t,n,c,_);if(typeof t=="number")return t&=255,typeof Uint8Array.prototype.indexOf=="function"?_?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):L(e,[t],n,c,_);throw new TypeError("val must be string, number or Buffer")}function L(e,t,n,c,_){function I(tt,Ue){return F===1?tt[Ue]:tt.readUInt16BE(Ue*F)}var F=1,te=e.length,pe=t.length;if(c!==void 0&&(c=(c+"").toLowerCase(),c==="ucs2"||c==="ucs-2"||c==="utf16le"||c==="utf-16le")){if(2>e.length||2>t.length)return-1;F=2,te/=2,pe/=2,n/=2}var ye;if(_){var ve=-1;for(ye=n;ye<te;ye++)if(I(e,ye)!==I(t,ve===-1?0:ye-ve))ve!==-1&&(ye-=ye-ve),ve=-1;else if(ve===-1&&(ve=ye),ye-ve+1===pe)return ve*F}else for(n+pe>te&&(n=te-pe),ye=n;0<=ye;ye--){for(var ce=!0,Ke=0;Ke<pe;Ke++)if(I(e,ye+Ke)!==I(t,Ke)){ce=!1;break}if(ce)return ye}return-1}function m(e,t,n,c){n=+n||0;var _=e.length-n;c?(c=+c,c>_&&(c=_)):c=_;var I=t.length;c>I/2&&(c=I/2);for(var F,te=0;te<c;++te){if(F=parseInt(t.substr(2*te,2),16),A(F))return te;e[n+te]=F}return te}function x(e,t,n,c){return Te(Se(t,e.length-n),e,n,c)}function k(e,t,n,c){return Te(Be(t),e,n,c)}function W(e,t,n,c){return k(e,t,n,c)}function ae(e,t,n,c){return Te(xe(t),e,n,c)}function ue(e,t,n,c){return Te(ke(t,e.length-n),e,n,c)}function he(e,t,n){return t===0&&n===e.length?$.fromByteArray(e):$.fromByteArray(e.slice(t,n))}function Pe(e,t,n){n=g(e.length,n);for(var c=[],_=t;_<n;){var I=e[_],F=null,te=239<I?4:223<I?3:191<I?2:1;if(_+te<=n){var pe,ye,ve,ce;te===1?128>I&&(F=I):te===2?(pe=e[_+1],(192&pe)==128&&(ce=(31&I)<<6|63&pe,127<ce&&(F=ce))):te===3?(pe=e[_+1],ye=e[_+2],(192&pe)==128&&(192&ye)==128&&(ce=(15&I)<<12|(63&pe)<<6|63&ye,2047<ce&&(55296>ce||57343<ce)&&(F=ce))):te===4&&(pe=e[_+1],ye=e[_+2],ve=e[_+3],(192&pe)==128&&(192&ye)==128&&(192&ve)==128&&(ce=(15&I)<<18|(63&pe)<<12|(63&ye)<<6|63&ve,65535<ce&&1114112>ce&&(F=ce)))}F===null?(F=65533,te=1):65535<F&&(F-=65536,c.push(55296|1023&F>>>10),F=56320|1023&F),c.push(F),_+=te}return U(c)}function U(e){var t=e.length;if(t<=4096)return u.apply(String,e);for(var n="",c=0;c<t;)n+=u.apply(String,e.slice(c,c+=4096));return n}function B(e,t,n){var c="";n=g(e.length,n);for(var _=t;_<n;++_)c+=u(127&e[_]);return c}function oe(e,t,n){var c="";n=g(e.length,n);for(var _=t;_<n;++_)c+=u(e[_]);return c}function Y(e,t,n){var c=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>c)&&(n=c);for(var _="",I=t;I<n;++I)_+=je(e[I]);return _}function ne(e,t,n){for(var c=e.slice(t,n),_="",I=0;I<c.length;I+=2)_+=u(c[I]+256*c[I+1]);return _}function G(e,t,n){if(e%1!=0||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function Q(e,t,n,c,_,I){if(!r.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>_||t<I)throw new RangeError('"value" argument is out of bounds');if(n+c>e.length)throw new RangeError("Index out of range")}function de(e,t,n,c){if(n+c>e.length)throw new RangeError("Index out of range");if(0>n)throw new RangeError("Index out of range")}function me(e,t,n,c,_){return t=+t,n>>>=0,_||de(e,t,n,4,34028234663852886e22,-34028234663852886e22),Z.write(e,t,n,c,23,4),n+4}function Ce(e,t,n,c,_){return t=+t,n>>>=0,_||de(e,t,n,8,17976931348623157e292,-17976931348623157e292),Z.write(e,t,n,c,52,8),n+8}function Ne(e){if(e=e.split("=")[0],e=e.trim().replace(V,""),2>e.length)return"";for(;e.length%4!=0;)e+="=";return e}function je(e){return 16>e?"0"+e.toString(16):e.toString(16)}function Se(e,t){t=t||1/0;for(var n,c=e.length,_=null,I=[],F=0;F<c;++F){if(n=e.charCodeAt(F),55295<n&&57344>n){if(!_){if(56319<n){-1<(t-=3)&&I.push(239,191,189);continue}else if(F+1===c){-1<(t-=3)&&I.push(239,191,189);continue}_=n;continue}if(56320>n){-1<(t-=3)&&I.push(239,191,189),_=n;continue}n=(_-55296<<10|n-56320)+65536}else _&&-1<(t-=3)&&I.push(239,191,189);if(_=null,128>n){if(0>(t-=1))break;I.push(n)}else if(2048>n){if(0>(t-=2))break;I.push(192|n>>6,128|63&n)}else if(65536>n){if(0>(t-=3))break;I.push(224|n>>12,128|63&n>>6,128|63&n)}else if(1114112>n){if(0>(t-=4))break;I.push(240|n>>18,128|63&n>>12,128|63&n>>6,128|63&n)}else throw new Error("Invalid code point")}return I}function Be(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function ke(e,t){for(var n,c,_,I=[],F=0;F<e.length&&!(0>(t-=2));++F)n=e.charCodeAt(F),c=n>>8,_=n%256,I.push(_),I.push(c);return I}function xe(e){return $.toByteArray(Ne(e))}function Te(e,t,n,c){for(var _=0;_<c&&!(_+n>=t.length||_>=e.length);++_)t[_+n]=e[_];return _}function C(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function A(e){return e!==e}var $=N("base64-js"),Z=N("ieee754");w.Buffer=r,w.SlowBuffer=function(e){return+e!=e&&(e=0),r.alloc(+e)},w.INSPECT_MAX_BYTES=50,w.kMaxLength=2147483647,r.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},e.foo()===42}catch(t){return!1}}(),r.TYPED_ARRAY_SUPPORT||typeof console=="undefined"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){return r.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){return r.isBuffer(this)?this.byteOffset:void 0}}),typeof Symbol!="undefined"&&Symbol.species!=null&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),r.poolSize=8192,r.from=function(e,t,n){return h(e,t,n)},r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,r.alloc=function(e,t,n){return s(e,t,n)},r.allocUnsafe=function(e){return S(e)},r.allocUnsafeSlow=function(e){return S(e)},r.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==r.prototype},r.compare=function(e,t){if(C(e,Uint8Array)&&(e=r.from(e,e.offset,e.byteLength)),C(t,Uint8Array)&&(t=r.from(t,t.offset,t.byteLength)),!r.isBuffer(e)||!r.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,c=t.length,_=0,I=g(n,c);_<I;++_)if(e[_]!==t[_]){n=e[_],c=t[_];break}return n<c?-1:c<n?1:0},r.isEncoding=function(e){switch((e+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return r.alloc(0);var n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var c=r.allocUnsafe(t),_=0;for(n=0;n<e.length;++n){var I=e[n];if(C(I,Uint8Array)&&(I=r.from(I)),!r.isBuffer(I))throw new TypeError('"list" argument must be an Array of Buffers');I.copy(c,_),_+=I.length}return c},r.byteLength=a,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)d(this,t,t+1);return this},r.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)d(this,t,t+3),d(this,t+1,t+2);return this},r.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)d(this,t,t+7),d(this,t+1,t+6),d(this,t+2,t+5),d(this,t+3,t+4);return this},r.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?Pe(this,0,e):y.apply(this,arguments)},r.prototype.toLocaleString=r.prototype.toString,r.prototype.equals=function(e){if(!r.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||r.compare(this,e)===0},r.prototype.inspect=function(){var e="",t=w.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},r.prototype.compare=function(e,t,n,c,_){if(C(e,Uint8Array)&&(e=r.from(e,e.offset,e.byteLength)),!r.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),c===void 0&&(c=0),_===void 0&&(_=this.length),0>t||n>e.length||0>c||_>this.length)throw new RangeError("out of range index");if(c>=_&&t>=n)return 0;if(c>=_)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,c>>>=0,_>>>=0,this===e)return 0;for(var I=_-c,F=n-t,te=g(I,F),pe=this.slice(c,_),ye=e.slice(t,n),ve=0;ve<te;++ve)if(pe[ve]!==ye[ve]){I=pe[ve],F=ye[ve];break}return I<F?-1:F<I?1:0},r.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1},r.prototype.indexOf=function(e,t,n){return T(this,e,t,n,!0)},r.prototype.lastIndexOf=function(e,t,n){return T(this,e,t,n,!1)},r.prototype.write=function(e,t,n,c){if(t===void 0)c="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")c=t,n=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(n)?(n>>>=0,c===void 0&&(c="utf8")):(c=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var _=this.length-t;if((n===void 0||n>_)&&(n=_),0<e.length&&(0>n||0>t)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");c||(c="utf8");for(var I=!1;;)switch(c){case"hex":return m(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":return k(this,e,t,n);case"latin1":case"binary":return W(this,e,t,n);case"base64":return ae(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ue(this,e,t,n);default:if(I)throw new TypeError("Unknown encoding: "+c);c=(""+c).toLowerCase(),I=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},r.prototype.slice=function(e,t){var n=this.length;e=~~e,t=t===void 0?n:~~t,0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),t<e&&(t=e);var c=this.subarray(e,t);return c.__proto__=r.prototype,c},r.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||G(e,t,this.length);for(var c=this[e],_=1,I=0;++I<t&&(_*=256);)c+=this[e+I]*_;return c},r.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||G(e,t,this.length);for(var c=this[e+--t],_=1;0<t&&(_*=256);)c+=this[e+--t]*_;return c},r.prototype.readUInt8=function(e,t){return e>>>=0,t||G(e,1,this.length),this[e]},r.prototype.readUInt16LE=function(e,t){return e>>>=0,t||G(e,2,this.length),this[e]|this[e+1]<<8},r.prototype.readUInt16BE=function(e,t){return e>>>=0,t||G(e,2,this.length),this[e]<<8|this[e+1]},r.prototype.readUInt32LE=function(e,t){return e>>>=0,t||G(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},r.prototype.readUInt32BE=function(e,t){return e>>>=0,t||G(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},r.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||G(e,t,this.length);for(var c=this[e],_=1,I=0;++I<t&&(_*=256);)c+=this[e+I]*_;return _*=128,c>=_&&(c-=z(2,8*t)),c},r.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||G(e,t,this.length);for(var c=t,_=1,I=this[e+--c];0<c&&(_*=256);)I+=this[e+--c]*_;return _*=128,I>=_&&(I-=z(2,8*t)),I},r.prototype.readInt8=function(e,t){return e>>>=0,t||G(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},r.prototype.readInt16LE=function(e,t){e>>>=0,t||G(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt16BE=function(e,t){e>>>=0,t||G(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt32LE=function(e,t){return e>>>=0,t||G(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},r.prototype.readInt32BE=function(e,t){return e>>>=0,t||G(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},r.prototype.readFloatLE=function(e,t){return e>>>=0,t||G(e,4,this.length),Z.read(this,e,!0,23,4)},r.prototype.readFloatBE=function(e,t){return e>>>=0,t||G(e,4,this.length),Z.read(this,e,!1,23,4)},r.prototype.readDoubleLE=function(e,t){return e>>>=0,t||G(e,8,this.length),Z.read(this,e,!0,52,8)},r.prototype.readDoubleBE=function(e,t){return e>>>=0,t||G(e,8,this.length),Z.read(this,e,!1,52,8)},r.prototype.writeUIntLE=function(e,t,n,c){if(e=+e,t>>>=0,n>>>=0,!c){var _=z(2,8*n)-1;Q(this,e,t,n,_,0)}var I=1,F=0;for(this[t]=255&e;++F<n&&(I*=256);)this[t+F]=255&e/I;return t+n},r.prototype.writeUIntBE=function(e,t,n,c){if(e=+e,t>>>=0,n>>>=0,!c){var _=z(2,8*n)-1;Q(this,e,t,n,_,0)}var I=n-1,F=1;for(this[t+I]=255&e;0<=--I&&(F*=256);)this[t+I]=255&e/F;return t+n},r.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||Q(this,e,t,1,255,0),this[t]=255&e,t+1},r.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||Q(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},r.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||Q(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},r.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||Q(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},r.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||Q(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},r.prototype.writeIntLE=function(e,t,n,c){if(e=+e,t>>>=0,!c){var _=z(2,8*n-1);Q(this,e,t,n,_-1,-_)}var I=0,F=1,te=0;for(this[t]=255&e;++I<n&&(F*=256);)0>e&&te===0&&this[t+I-1]!==0&&(te=1),this[t+I]=255&(e/F>>0)-te;return t+n},r.prototype.writeIntBE=function(e,t,n,c){if(e=+e,t>>>=0,!c){var _=z(2,8*n-1);Q(this,e,t,n,_-1,-_)}var I=n-1,F=1,te=0;for(this[t+I]=255&e;0<=--I&&(F*=256);)0>e&&te===0&&this[t+I+1]!==0&&(te=1),this[t+I]=255&(e/F>>0)-te;return t+n},r.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||Q(this,e,t,1,127,-128),0>e&&(e=255+e+1),this[t]=255&e,t+1},r.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||Q(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},r.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||Q(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},r.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||Q(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},r.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||Q(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},r.prototype.writeFloatLE=function(e,t,n){return me(this,e,t,!0,n)},r.prototype.writeFloatBE=function(e,t,n){return me(this,e,t,!1,n)},r.prototype.writeDoubleLE=function(e,t,n){return Ce(this,e,t,!0,n)},r.prototype.writeDoubleBE=function(e,t,n){return Ce(this,e,t,!1,n)},r.prototype.copy=function(e,t,n,c){if(!r.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),c||c===0||(c=this.length),t>=e.length&&(t=e.length),t||(t=0),0<c&&c<n&&(c=n),c===n||e.length===0||this.length===0)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("Index out of range");if(0>c)throw new RangeError("sourceEnd out of bounds");c>this.length&&(c=this.length),e.length-t<c-n&&(c=e.length-t+n);var _=c-n;if(this===e&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(t,n,c);else if(this===e&&n<t&&t<c)for(var I=_-1;0<=I;--I)e[I+t]=this[I+n];else Uint8Array.prototype.set.call(e,this.subarray(n,c),t);return _},r.prototype.fill=function(e,t,n,c){if(typeof e=="string"){if(typeof t=="string"?(c=t,t=0,n=this.length):typeof n=="string"&&(c=n,n=this.length),c!==void 0&&typeof c!="string")throw new TypeError("encoding must be a string");if(typeof c=="string"&&!r.isEncoding(c))throw new TypeError("Unknown encoding: "+c);if(e.length===1){var _=e.charCodeAt(0);(c==="utf8"&&128>_||c==="latin1")&&(e=_)}}else typeof e=="number"&&(e&=255);if(0>t||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=n===void 0?this.length:n>>>0,e||(e=0);var I;if(typeof e=="number")for(I=t;I<n;++I)this[I]=e;else{var F=r.isBuffer(e)?e:r.from(e,c),te=F.length;if(te===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(I=0;I<n-t;++I)this[I+t]=F[I%te]}return this};var V=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,N("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:9}],4:[function(N,j,w){(function(u){(function(){function g(){let r;try{r=w.storage.getItem("debug")}catch(h){}return!r&&typeof u!="undefined"&&"env"in u&&(r=u.env.DEBUG),r}w.formatArgs=function(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+j.exports.humanize(this.diff),!this.useColors)return;const h="color: "+this.color;r.splice(1,0,h,"color: inherit");let o=0,s=0;r[0].replace(/%[a-zA-Z%]/g,S=>{S==="%%"||(o++,S==="%c"&&(s=o))}),r.splice(s,0,h)},w.save=function(r){try{r?w.storage.setItem("debug",r):w.storage.removeItem("debug")}catch(h){}},w.load=g,w.useColors=function(){return!!(typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))||!(typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},w.storage=function(){try{return localStorage}catch(r){}}(),w.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),w.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],w.log=console.debug||console.log||(()=>{}),j.exports=N("./common")(w);const{formatters:R}=j.exports;R.j=function(r){try{return JSON.stringify(r)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}}}).call(this)}).call(this,N("_process"))},{"./common":5,_process:12}],5:[function(N,j){j.exports=function(w){function u(r){function h(...S){if(!h.enabled)return;const f=h,p=+new Date,E=p-(o||p);f.diff=E,f.prev=o,f.curr=p,o=p,S[0]=u.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let i=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(a,y)=>{if(a==="%%")return"%";i++;const d=u.formatters[y];if(typeof d=="function"){const T=S[i];a=d.call(f,T),S.splice(i,1),i--}return a}),u.formatArgs.call(f,S),(f.log||u.log).apply(f,S)}let o,s=null;return h.namespace=r,h.useColors=u.useColors(),h.color=u.selectColor(r),h.extend=g,h.destroy=u.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>s===null?u.enabled(r):s,set:S=>{s=S}}),typeof u.init=="function"&&u.init(h),h}function g(r,h){const o=u(this.namespace+(typeof h=="undefined"?":":h)+r);return o.log=this.log,o}function R(r){return r.toString().substring(2,r.toString().length-2).replace(/\.\*\?$/,"*")}return u.debug=u,u.default=u,u.coerce=function(r){return r instanceof Error?r.stack||r.message:r},u.disable=function(){const r=[...u.names.map(R),...u.skips.map(R).map(h=>"-"+h)].join(",");return u.enable(""),r},u.enable=function(r){u.save(r),u.names=[],u.skips=[];let h;const o=(typeof r=="string"?r:"").split(/[\s,]+/),s=o.length;for(h=0;h<s;h++)o[h]&&(r=o[h].replace(/\*/g,".*?"),r[0]==="-"?u.skips.push(new RegExp("^"+r.substr(1)+"$")):u.names.push(new RegExp("^"+r+"$")))},u.enabled=function(r){if(r[r.length-1]==="*")return!0;let h,o;for(h=0,o=u.skips.length;h<o;h++)if(u.skips[h].test(r))return!1;for(h=0,o=u.names.length;h<o;h++)if(u.names[h].test(r))return!0;return!1},u.humanize=N("ms"),u.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(w).forEach(r=>{u[r]=w[r]}),u.names=[],u.skips=[],u.formatters={},u.selectColor=function(r){let h=0;for(let o=0;o<r.length;o++)h=(h<<5)-h+r.charCodeAt(o),h|=0;return u.colors[fe(h)%u.colors.length]},u.enable(u.load()),u}},{ms:11}],6:[function(N,j){"use strict";function w(u,g){for(const R in g)Object.defineProperty(u,R,{value:g[R],enumerable:!0,configurable:!0});return u}j.exports=function(u,g,R){if(!u||typeof u=="string")throw new TypeError("Please pass an Error to err-code");R||(R={}),typeof g=="object"&&(R=g,g=""),g&&(R.code=g);try{return w(u,R)}catch(r){R.message=u.message,R.stack=u.stack;const h=function(){};return h.prototype=Object.create(Object.getPrototypeOf(u)),w(new h,R)}}},{}],7:[function(N,j){"use strict";function w(m){console&&console.warn&&console.warn(m)}function u(){u.init.call(this)}function g(m){if(typeof m!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof m)}function R(m){return m._maxListeners===void 0?u.defaultMaxListeners:m._maxListeners}function r(m,x,k,W){var ae,ue,he;if(g(k),ue=m._events,ue===void 0?(ue=m._events=Object.create(null),m._eventsCount=0):(ue.newListener!==void 0&&(m.emit("newListener",x,k.listener?k.listener:k),ue=m._events),he=ue[x]),he===void 0)he=ue[x]=k,++m._eventsCount;else if(typeof he=="function"?he=ue[x]=W?[k,he]:[he,k]:W?he.unshift(k):he.push(k),ae=R(m),0<ae&&he.length>ae&&!he.warned){he.warned=!0;var Pe=new Error("Possible EventEmitter memory leak detected. "+he.length+" "+(x+" listeners added. Use emitter.setMaxListeners() to increase limit"));Pe.name="MaxListenersExceededWarning",Pe.emitter=m,Pe.type=x,Pe.count=he.length,w(Pe)}return m}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function o(m,x,k){var W={fired:!1,wrapFn:void 0,target:m,type:x,listener:k},ae=h.bind(W);return ae.listener=k,W.wrapFn=ae,ae}function s(m,x,k){var W=m._events;if(W===void 0)return[];var ae=W[x];return ae===void 0?[]:typeof ae=="function"?k?[ae.listener||ae]:[ae]:k?E(ae):f(ae,ae.length)}function S(m){var x=this._events;if(x!==void 0){var k=x[m];if(typeof k=="function")return 1;if(k!==void 0)return k.length}return 0}function f(m,x){for(var k=Array(x),W=0;W<x;++W)k[W]=m[W];return k}function p(m,x){for(;x+1<m.length;x++)m[x]=m[x+1];m.pop()}function E(m){for(var x=Array(m.length),k=0;k<x.length;++k)x[k]=m[k].listener||m[k];return x}function i(m,x,k){typeof m.on=="function"&&l(m,"error",x,k)}function l(m,x,k,W){if(typeof m.on=="function")W.once?m.once(x,k):m.on(x,k);else if(typeof m.addEventListener=="function")m.addEventListener(x,function ae(ue){W.once&&m.removeEventListener(x,ae),k(ue)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof m)}var a,y=typeof Reflect=="object"?Reflect:null,d=y&&typeof y.apply=="function"?y.apply:function(m,x,k){return Function.prototype.apply.call(m,x,k)};a=y&&typeof y.ownKeys=="function"?y.ownKeys:Object.getOwnPropertySymbols?function(m){return Object.getOwnPropertyNames(m).concat(Object.getOwnPropertySymbols(m))}:function(m){return Object.getOwnPropertyNames(m)};var T=Number.isNaN||function(m){return m!==m};j.exports=u,j.exports.once=function(m,x){return new Promise(function(k,W){function ae(he){m.removeListener(x,ue),W(he)}function ue(){typeof m.removeListener=="function"&&m.removeListener("error",ae),k([].slice.call(arguments))}l(m,x,ue,{once:!0}),x!=="error"&&i(m,ae,{once:!0})})},u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var L=10;Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return L},set:function(m){if(typeof m!="number"||0>m||T(m))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+m+".");L=m}}),u.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(m){if(typeof m!="number"||0>m||T(m))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+m+".");return this._maxListeners=m,this},u.prototype.getMaxListeners=function(){return R(this)},u.prototype.emit=function(m){for(var x=[],k=1;k<arguments.length;k++)x.push(arguments[k]);var W=m==="error",ae=this._events;if(ae!==void 0)W=W&&ae.error===void 0;else if(!W)return!1;if(W){var ue;if(0<x.length&&(ue=x[0]),ue instanceof Error)throw ue;var he=new Error("Unhandled error."+(ue?" ("+ue.message+")":""));throw he.context=ue,he}var Pe=ae[m];if(Pe===void 0)return!1;if(typeof Pe=="function")d(Pe,this,x);else for(var U=Pe.length,B=f(Pe,U),k=0;k<U;++k)d(B[k],this,x);return!0},u.prototype.addListener=function(m,x){return r(this,m,x,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(m,x){return r(this,m,x,!0)},u.prototype.once=function(m,x){return g(x),this.on(m,o(this,m,x)),this},u.prototype.prependOnceListener=function(m,x){return g(x),this.prependListener(m,o(this,m,x)),this},u.prototype.removeListener=function(m,x){var k,W,ae,ue,he;if(g(x),W=this._events,W===void 0)return this;if(k=W[m],k===void 0)return this;if(k===x||k.listener===x)--this._eventsCount==0?this._events=Object.create(null):(delete W[m],W.removeListener&&this.emit("removeListener",m,k.listener||x));else if(typeof k!="function"){for(ae=-1,ue=k.length-1;0<=ue;ue--)if(k[ue]===x||k[ue].listener===x){he=k[ue].listener,ae=ue;break}if(0>ae)return this;ae===0?k.shift():p(k,ae),k.length===1&&(W[m]=k[0]),W.removeListener!==void 0&&this.emit("removeListener",m,he||x)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(m){var x,k,W;if(k=this._events,k===void 0)return this;if(k.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):k[m]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete k[m]),this;if(arguments.length===0){var ae,ue=Object.keys(k);for(W=0;W<ue.length;++W)ae=ue[W],ae!=="removeListener"&&this.removeAllListeners(ae);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(x=k[m],typeof x=="function")this.removeListener(m,x);else if(x!==void 0)for(W=x.length-1;0<=W;W--)this.removeListener(m,x[W]);return this},u.prototype.listeners=function(m){return s(this,m,!0)},u.prototype.rawListeners=function(m){return s(this,m,!1)},u.listenerCount=function(m,x){return typeof m.listenerCount=="function"?m.listenerCount(x):S.call(m,x)},u.prototype.listenerCount=S,u.prototype.eventNames=function(){return 0<this._eventsCount?a(this._events):[]}},{}],8:[function(N,j){j.exports=function(){if(typeof globalThis=="undefined")return null;var w={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return w.RTCPeerConnection?w:null}},{}],9:[function(N,j,w){w.read=function(u,g,R,r,h){var o,s,S=8*h-r-1,f=(1<<S)-1,p=f>>1,E=-7,i=R?h-1:0,l=R?-1:1,a=u[g+i];for(i+=l,o=a&(1<<-E)-1,a>>=-E,E+=S;0<E;o=256*o+u[g+i],i+=l,E-=8);for(s=o&(1<<-E)-1,o>>=-E,E+=r;0<E;s=256*s+u[g+i],i+=l,E-=8);if(o===0)o=1-p;else{if(o===f)return s?NaN:(a?-1:1)*(1/0);s+=z(2,r),o-=p}return(a?-1:1)*s*z(2,o-r)},w.write=function(u,g,R,r,h,o){var s,S,f,p=Math.LN2,E=Math.log,i=8*o-h-1,l=(1<<i)-1,a=l>>1,y=h===23?z(2,-24)-z(2,-77):0,d=r?0:o-1,T=r?1:-1,L=0>g||g===0&&0>1/g?1:0;for(g=fe(g),isNaN(g)||g===1/0?(S=isNaN(g)?1:0,s=l):(s=P(E(g)/p),1>g*(f=z(2,-s))&&(s--,f*=2),g+=1<=s+a?y/f:y*z(2,1-a),2<=g*f&&(s++,f/=2),s+a>=l?(S=0,s=l):1<=s+a?(S=(g*f-1)*z(2,h),s+=a):(S=g*z(2,a-1)*z(2,h),s=0));8<=h;u[R+d]=255&S,d+=T,S/=256,h-=8);for(s=s<<h|S,i+=h;0<i;u[R+d]=255&s,d+=T,s/=256,i-=8);u[R+d-T]|=128*L}},{}],10:[function(N,j){j.exports=typeof Object.create=="function"?function(w,u){u&&(w.super_=u,w.prototype=Object.create(u.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}))}:function(w,u){if(u){w.super_=u;var g=function(){};g.prototype=u.prototype,w.prototype=new g,w.prototype.constructor=w}}},{}],11:[function(N,j){var w=Math.round;function u(o){if(o+="",!(100<o.length)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(o);if(s){var S=parseFloat(s[1]),f=(s[2]||"ms").toLowerCase();return f==="years"||f==="year"||f==="yrs"||f==="yr"||f==="y"?315576e5*S:f==="weeks"||f==="week"||f==="w"?6048e5*S:f==="days"||f==="day"||f==="d"?864e5*S:f==="hours"||f==="hour"||f==="hrs"||f==="hr"||f==="h"?36e5*S:f==="minutes"||f==="minute"||f==="mins"||f==="min"||f==="m"?6e4*S:f==="seconds"||f==="second"||f==="secs"||f==="sec"||f==="s"?1e3*S:f==="milliseconds"||f==="millisecond"||f==="msecs"||f==="msec"||f==="ms"?S:void 0}}}function g(o){var s=fe(o);return 864e5<=s?w(o/864e5)+"d":36e5<=s?w(o/36e5)+"h":6e4<=s?w(o/6e4)+"m":1e3<=s?w(o/1e3)+"s":o+"ms"}function R(o){var s=fe(o);return 864e5<=s?r(o,s,864e5,"day"):36e5<=s?r(o,s,36e5,"hour"):6e4<=s?r(o,s,6e4,"minute"):1e3<=s?r(o,s,1e3,"second"):o+" ms"}function r(o,s,S,f){return w(o/S)+" "+f+(s>=1.5*S?"s":"")}var h=24*(60*6e4);j.exports=function(o,s){s=s||{};var S=typeof o;if(S=="string"&&0<o.length)return u(o);if(S==="number"&&isFinite(o))return s.long?R(o):g(o);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(o))}},{}],12:[function(N,j){function w(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function g(y){if(S===setTimeout)return setTimeout(y,0);if((S===w||!S)&&setTimeout)return S=setTimeout,setTimeout(y,0);try{return S(y,0)}catch(d){try{return S.call(null,y,0)}catch(T){return S.call(this,y,0)}}}function R(y){if(f===clearTimeout)return clearTimeout(y);if((f===u||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(y);try{return f(y)}catch(d){try{return f.call(null,y)}catch(T){return f.call(this,y)}}}function r(){l&&E&&(l=!1,E.length?i=E.concat(i):a=-1,i.length&&h())}function h(){if(!l){var y=g(r);l=!0;for(var d=i.length;d;){for(E=i,i=[];++a<d;)E&&E[a].run();a=-1,d=i.length}E=null,l=!1,R(y)}}function o(y,d){this.fun=y,this.array=d}function s(){}var S,f,p=j.exports={};(function(){try{S=typeof setTimeout=="function"?setTimeout:w}catch(y){S=w}try{f=typeof clearTimeout=="function"?clearTimeout:u}catch(y){f=u}})();var E,i=[],l=!1,a=-1;p.nextTick=function(y){var d=Array(arguments.length-1);if(1<arguments.length)for(var T=1;T<arguments.length;T++)d[T-1]=arguments[T];i.push(new o(y,d)),i.length!==1||l||g(h)},o.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=s,p.addListener=s,p.once=s,p.off=s,p.removeListener=s,p.removeAllListeners=s,p.emit=s,p.prependListener=s,p.prependOnceListener=s,p.listeners=function(){return[]},p.binding=function(){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],13:[function(N,j){(function(w){(function(){let u;j.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window=="undefined"?w:window):g=>(u||(u=Promise.resolve())).then(g).catch(R=>setTimeout(()=>{throw R},0))}).call(this)}).call(this,typeof v.g=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:v.g)},{}],14:[function(N,j){(function(w,u){(function(){"use strict";var g=N("safe-buffer").Buffer,R=u.crypto||u.msCrypto;j.exports=R&&R.getRandomValues?function(r,h){if(r>4294967295)throw new RangeError("requested too many random bytes");var o=g.allocUnsafe(r);if(0<r)if(65536<r)for(var s=0;s<r;s+=65536)R.getRandomValues(o.slice(s,s+65536));else R.getRandomValues(o);return typeof h=="function"?w.nextTick(function(){h(null,o)}):o}:function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,N("_process"),typeof v.g=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:v.g)},{_process:12,"safe-buffer":30}],15:[function(N,j){"use strict";function w(s,S){s.prototype=Object.create(S.prototype),s.prototype.constructor=s,s.__proto__=S}function u(s,S,f){function p(i,l,a){return typeof S=="string"?S:S(i,l,a)}f||(f=Error);var E=function(i){function l(a,y,d){return i.call(this,p(a,y,d))||this}return w(l,i),l}(f);E.prototype.name=f.name,E.prototype.code=s,o[s]=E}function g(s,S){if(Array.isArray(s)){var f=s.length;return s=s.map(function(p){return p+""}),2<f?"one of ".concat(S," ").concat(s.slice(0,f-1).join(", "),", or ")+s[f-1]:f===2?"one of ".concat(S," ").concat(s[0]," or ").concat(s[1]):"of ".concat(S," ").concat(s[0])}return"of ".concat(S," ").concat(s+"")}function R(s,S,f){return s.substr(!f||0>f?0:+f,S.length)===S}function r(s,S,f){return(f===void 0||f>s.length)&&(f=s.length),s.substring(f-S.length,f)===S}function h(s,S,f){return typeof f!="number"&&(f=0),!(f+S.length>s.length)&&s.indexOf(S,f)!==-1}var o={};u("ERR_INVALID_OPT_VALUE",function(s,S){return'The value "'+S+'" is invalid for option "'+s+'"'},TypeError),u("ERR_INVALID_ARG_TYPE",function(s,S,f){var p;typeof S=="string"&&R(S,"not ")?(p="must not be",S=S.replace(/^not /,"")):p="must be";var E;if(r(s," argument"))E="The ".concat(s," ").concat(p," ").concat(g(S,"type"));else{var i=h(s,".")?"property":"argument";E='The "'.concat(s,'" ').concat(i," ").concat(p," ").concat(g(S,"type"))}return E+=". Received type ".concat(typeof f),E},TypeError),u("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),u("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),u("ERR_STREAM_PREMATURE_CLOSE","Premature close"),u("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),u("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),u("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),u("ERR_STREAM_WRITE_AFTER_END","write after end"),u("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),u("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),u("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),j.exports.codes=o},{}],16:[function(N,j){(function(w){(function(){"use strict";function u(p){return this instanceof u?(h.call(this,p),o.call(this,p),this.allowHalfOpen=!0,void(p&&(p.readable===!1&&(this.readable=!1),p.writable===!1&&(this.writable=!1),p.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",g))))):new u(p)}function g(){this._writableState.ended||w.nextTick(R,this)}function R(p){p.end()}var r=Object.keys||function(p){var E=[];for(var i in p)E.push(i);return E};j.exports=u;var h=N("./_stream_readable"),o=N("./_stream_writable");N("inherits")(u,h);for(var s,S=r(o.prototype),f=0;f<S.length;f++)s=S[f],u.prototype[s]||(u.prototype[s]=o.prototype[s]);Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=p,this._writableState.destroyed=p)}})}).call(this)}).call(this,N("_process"))},{"./_stream_readable":18,"./_stream_writable":20,_process:12,inherits:10}],17:[function(N,j){"use strict";function w(g){return this instanceof w?void u.call(this,g):new w(g)}j.exports=w;var u=N("./_stream_transform");N("inherits")(w,u),w.prototype._transform=function(g,R,r){r(null,g)}},{"./_stream_transform":19,inherits:10}],18:[function(N,j){(function(w,u){(function(){"use strict";function g(e){return G.from(e)}function R(e){return G.isBuffer(e)||e instanceof Q}function r(e,t,n){return typeof e.prependListener=="function"?e.prependListener(t,n):void(e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n))}function h(e,t,n){U=U||N("./_stream_duplex"),e=e||{},typeof n!="boolean"&&(n=t instanceof U),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=ke(this,e,"readableHighWaterMark",n),this.buffer=new je,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(!me&&(me=N("string_decoder/").StringDecoder),this.decoder=new me(e.encoding),this.encoding=e.encoding)}function o(e){if(U=U||N("./_stream_duplex"),!(this instanceof o))return new o(e);var t=this instanceof U;this._readableState=new h(e,this,t),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),ne.call(this)}function s(e,t,n,c,_){B("readableAddChunk",t);var I=e._readableState;if(t===null)I.reading=!1,i(e,I);else{var F;if(_||(F=f(I,t)),F)Z(e,F);else if(!(I.objectMode||t&&0<t.length))c||(I.reading=!1,y(e,I));else if(typeof t=="string"||I.objectMode||Object.getPrototypeOf(t)===G.prototype||(t=g(t)),c)I.endEmitted?Z(e,new $):S(e,I,t,!0);else if(I.ended)Z(e,new C);else{if(I.destroyed)return!1;I.reading=!1,I.decoder&&!n?(t=I.decoder.write(t),I.objectMode||t.length!==0?S(e,I,t,!1):y(e,I)):S(e,I,t,!1)}}return!I.ended&&(I.length<I.highWaterMark||I.length===0)}function S(e,t,n,c){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,c?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&l(e)),y(e,t)}function f(e,t){var n;return R(t)||typeof t=="string"||t===void 0||e.objectMode||(n=new Te("chunk",["string","Buffer","Uint8Array"],t)),n}function p(e){return 1073741824<=e?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function E(e,t){return 0>=e||t.length===0&&t.ended?0:t.objectMode?1:e===e?(e>t.highWaterMark&&(t.highWaterMark=p(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0)):t.flowing&&t.length?t.buffer.head.data.length:t.length}function i(e,t){if(B("onEofChunk"),!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?l(e):(t.needReadable=!1,!t.emittedReadable&&(t.emittedReadable=!0,a(e)))}}function l(e){var t=e._readableState;B("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(B("emitReadable",t.flowing),t.emittedReadable=!0,w.nextTick(a,e))}function a(e){var t=e._readableState;B("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,W(e)}function y(e,t){t.readingMore||(t.readingMore=!0,w.nextTick(d,e,t))}function d(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var n=t.length;if(B("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function T(e){return function(){var t=e._readableState;B("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&Y(e,"data")&&(t.flowing=!0,W(e))}}function L(e){var t=e._readableState;t.readableListening=0<e.listenerCount("readable"),t.resumeScheduled&&!t.paused?t.flowing=!0:0<e.listenerCount("data")&&e.resume()}function m(e){B("readable nexttick read 0"),e.read(0)}function x(e,t){t.resumeScheduled||(t.resumeScheduled=!0,w.nextTick(k,e,t))}function k(e,t){B("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),W(e),t.flowing&&!t.reading&&e.read(0)}function W(e){var t=e._readableState;for(B("flow",t.flowing);t.flowing&&e.read()!==null;);}function ae(e,t){if(t.length===0)return null;var n;return t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):t.buffer.length===1?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n}function ue(e){var t=e._readableState;B("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,w.nextTick(he,t,e))}function he(e,t){if(B("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function Pe(e,t){for(var n=0,c=e.length;n<c;n++)if(e[n]===t)return n;return-1}j.exports=o;var U;o.ReadableState=h;var B,oe=N("events").EventEmitter,Y=function(e,t){return e.listeners(t).length},ne=N("./internal/streams/stream"),G=N("buffer").Buffer,Q=u.Uint8Array||function(){},de=N("util");B=de&&de.debuglog?de.debuglog("stream"):function(){};var me,Ce,Ne,je=N("./internal/streams/buffer_list"),Se=N("./internal/streams/destroy"),Be=N("./internal/streams/state"),ke=Be.getHighWaterMark,xe=N("../errors").codes,Te=xe.ERR_INVALID_ARG_TYPE,C=xe.ERR_STREAM_PUSH_AFTER_EOF,A=xe.ERR_METHOD_NOT_IMPLEMENTED,$=xe.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;N("inherits")(o,ne);var Z=Se.errorOrDestroy,V=["error","close","destroy","pause","resume"];Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),o.prototype.destroy=Se.destroy,o.prototype._undestroy=Se.undestroy,o.prototype._destroy=function(e,t){t(e)},o.prototype.push=function(e,t){var n,c=this._readableState;return c.objectMode?n=!0:typeof e=="string"&&(t=t||c.defaultEncoding,t!==c.encoding&&(e=G.from(e,t),t=""),n=!0),s(this,e,t,!1,n)},o.prototype.unshift=function(e){return s(this,e,null,!0,!1)},o.prototype.isPaused=function(){return this._readableState.flowing===!1},o.prototype.setEncoding=function(e){me||(me=N("string_decoder/").StringDecoder);var t=new me(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,c="";n!==null;)c+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),c!==""&&this._readableState.buffer.push(c),this._readableState.length=c.length,this},o.prototype.read=function(e){B("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark===0?0<t.length:t.length>=t.highWaterMark)||t.ended))return B("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?ue(this):l(this),null;if(e=E(e,t),e===0&&t.ended)return t.length===0&&ue(this),null;var c=t.needReadable;B("need readable",c),(t.length===0||t.length-e<t.highWaterMark)&&(c=!0,B("length less than watermark",c)),t.ended||t.reading?(c=!1,B("reading or ended",c)):c&&(B("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,!t.reading&&(e=E(n,t)));var _;return _=0<e?ae(e,t):null,_===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),t.length===0&&(!t.ended&&(t.needReadable=!0),n!==e&&t.ended&&ue(this)),_!==null&&this.emit("data",_),_},o.prototype._read=function(){Z(this,new A("_read()"))},o.prototype.pipe=function(e,t){function n(ut,ot){B("onunpipe"),ut===ve&&ot&&ot.hasUnpiped===!1&&(ot.hasUnpiped=!0,_())}function c(){B("onend"),e.end()}function _(){B("cleanup"),e.removeListener("close",te),e.removeListener("finish",pe),e.removeListener("drain",Ue),e.removeListener("error",F),e.removeListener("unpipe",n),ve.removeListener("end",c),ve.removeListener("end",ye),ve.removeListener("data",I),xt=!0,ce.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&Ue()}function I(ut){B("ondata");var ot=e.write(ut);B("dest.write",ot),ot===!1&&((ce.pipesCount===1&&ce.pipes===e||1<ce.pipesCount&&Pe(ce.pipes,e)!==-1)&&!xt&&(B("false write response, pause",ce.awaitDrain),ce.awaitDrain++),ve.pause())}function F(ut){B("onerror",ut),ye(),e.removeListener("error",F),Y(e,"error")===0&&Z(e,ut)}function te(){e.removeListener("finish",pe),ye()}function pe(){B("onfinish"),e.removeListener("close",te),ye()}function ye(){B("unpipe"),ve.unpipe(e)}var ve=this,ce=this._readableState;switch(ce.pipesCount){case 0:ce.pipes=e;break;case 1:ce.pipes=[ce.pipes,e];break;default:ce.pipes.push(e)}ce.pipesCount+=1,B("pipe count=%d opts=%j",ce.pipesCount,t);var Ke=(!t||t.end!==!1)&&e!==w.stdout&&e!==w.stderr,tt=Ke?c:ye;ce.endEmitted?w.nextTick(tt):ve.once("end",tt),e.on("unpipe",n);var Ue=T(ve);e.on("drain",Ue);var xt=!1;return ve.on("data",I),r(e,"error",F),e.once("close",te),e.once("finish",pe),e.emit("pipe",ve),ce.flowing||(B("pipe resume"),ve.resume()),e},o.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var c=t.pipes,_=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var I=0;I<_;I++)c[I].emit("unpipe",this,{hasUnpiped:!1});return this}var F=Pe(t.pipes,e);return F===-1?this:(t.pipes.splice(F,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},o.prototype.on=function(e,t){var n=ne.prototype.on.call(this,e,t),c=this._readableState;return e==="data"?(c.readableListening=0<this.listenerCount("readable"),c.flowing!==!1&&this.resume()):e=="readable"&&!c.endEmitted&&!c.readableListening&&(c.readableListening=c.needReadable=!0,c.flowing=!1,c.emittedReadable=!1,B("on readable",c.length,c.reading),c.length?l(this):!c.reading&&w.nextTick(m,this)),n},o.prototype.addListener=o.prototype.on,o.prototype.removeListener=function(e,t){var n=ne.prototype.removeListener.call(this,e,t);return e==="readable"&&w.nextTick(L,this),n},o.prototype.removeAllListeners=function(e){var t=ne.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&w.nextTick(L,this),t},o.prototype.resume=function(){var e=this._readableState;return e.flowing||(B("resume"),e.flowing=!e.readableListening,x(this,e)),e.paused=!1,this},o.prototype.pause=function(){return B("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(B("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},o.prototype.wrap=function(e){var t=this,n=this._readableState,c=!1;for(var _ in e.on("end",function(){if(B("wrapped end"),n.decoder&&!n.ended){var F=n.decoder.end();F&&F.length&&t.push(F)}t.push(null)}),e.on("data",function(F){if(B("wrapped data"),n.decoder&&(F=n.decoder.write(F)),!(n.objectMode&&F==null)&&(n.objectMode||F&&F.length)){var te=t.push(F);te||(c=!0,e.pause())}}),e)this[_]===void 0&&typeof e[_]=="function"&&(this[_]=function(F){return function(){return e[F].apply(e,arguments)}}(_));for(var I=0;I<V.length;I++)e.on(V[I],this.emit.bind(this,V[I]));return this._read=function(F){B("wrapped _read",F),c&&(c=!1,e.resume())},this},typeof Symbol=="function"&&(o.prototype[Symbol.asyncIterator]=function(){return Ce===void 0&&(Ce=N("./internal/streams/async_iterator")),Ce(this)}),Object.defineProperty(o.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(o.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(o.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),o._fromList=ae,Object.defineProperty(o.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(o.from=function(e,t){return Ne===void 0&&(Ne=N("./internal/streams/from")),Ne(o,e,t)})}).call(this)}).call(this,N("_process"),typeof v.g=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:v.g)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/async_iterator":21,"./internal/streams/buffer_list":22,"./internal/streams/destroy":23,"./internal/streams/from":25,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,events:7,inherits:10,"string_decoder/":31,util:2}],19:[function(N,j){"use strict";function w(p,E){var i=this._transformState;i.transforming=!1;var l=i.writecb;if(l===null)return this.emit("error",new o);i.writechunk=null,i.writecb=null,E!=null&&this.push(E),l(p);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function u(p){return this instanceof u?(f.call(this,p),this._transformState={afterTransform:w.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),void this.on("prefinish",g)):new u(p)}function g(){var p=this;typeof this._flush!="function"||this._readableState.destroyed?R(this,null,null):this._flush(function(E,i){R(p,E,i)})}function R(p,E,i){if(E)return p.emit("error",E);if(i!=null&&p.push(i),p._writableState.length)throw new S;if(p._transformState.transforming)throw new s;return p.push(null)}j.exports=u;var r=N("../errors").codes,h=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,S=r.ERR_TRANSFORM_WITH_LENGTH_0,f=N("./_stream_duplex");N("inherits")(u,f),u.prototype.push=function(p,E){return this._transformState.needTransform=!1,f.prototype.push.call(this,p,E)},u.prototype._transform=function(p,E,i){i(new h("_transform()"))},u.prototype._write=function(p,E,i){var l=this._transformState;if(l.writecb=i,l.writechunk=p,l.writeencoding=E,!l.transforming){var a=this._readableState;(l.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},u.prototype._read=function(){var p=this._transformState;p.writechunk===null||p.transforming?p.needTransform=!0:(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform))},u.prototype._destroy=function(p,E){f.prototype._destroy.call(this,p,function(i){E(i)})}},{"../errors":15,"./_stream_duplex":16,inherits:10}],20:[function(N,j){(function(w,u){(function(){"use strict";function g(C){var A=this;this.next=null,this.entry=null,this.finish=function(){ue(A,C)}}function R(C){return B.from(C)}function r(C){return B.isBuffer(C)||C instanceof oe}function h(){}function o(C,A,$){he=he||N("./_stream_duplex"),C=C||{},typeof $!="boolean"&&($=A instanceof he),this.objectMode=!!C.objectMode,$&&(this.objectMode=this.objectMode||!!C.writableObjectMode),this.highWaterMark=G(this,C,"writableHighWaterMark",$),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Z=C.decodeStrings===!1;this.decodeStrings=!Z,this.defaultEncoding=C.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(V){y(A,V)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=C.emitClose!==!1,this.autoDestroy=!!C.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new g(this)}function s(C){he=he||N("./_stream_duplex");var A=this instanceof he;return A||Te.call(s,this)?(this._writableState=new o(C,this,A),this.writable=!0,C&&(typeof C.write=="function"&&(this._write=C.write),typeof C.writev=="function"&&(this._writev=C.writev),typeof C.destroy=="function"&&(this._destroy=C.destroy),typeof C.final=="function"&&(this._final=C.final)),void U.call(this)):new s(C)}function S(C,A){var $=new Be;xe(C,$),w.nextTick(A,$)}function f(C,A,$,Z){var V;return $===null?V=new Se:typeof $!="string"&&!A.objectMode&&(V=new de("chunk",["string","Buffer"],$)),!V||(xe(C,V),w.nextTick(Z,V),!1)}function p(C,A,$){return C.objectMode||C.decodeStrings===!1||typeof A!="string"||(A=B.from(A,$)),A}function E(C,A,$,Z,V,e){if(!$){var t=p(A,Z,V);Z!==t&&($=!0,V="buffer",Z=t)}var n=A.objectMode?1:Z.length;A.length+=n;var c=A.length<A.highWaterMark;if(c||(A.needDrain=!0),A.writing||A.corked){var _=A.lastBufferedRequest;A.lastBufferedRequest={chunk:Z,encoding:V,isBuf:$,callback:e,next:null},_?_.next=A.lastBufferedRequest:A.bufferedRequest=A.lastBufferedRequest,A.bufferedRequestCount+=1}else i(C,A,!1,n,Z,V,e);return c}function i(C,A,$,Z,V,e,t){A.writelen=Z,A.writecb=t,A.writing=!0,A.sync=!0,A.destroyed?A.onwrite(new je("write")):$?C._writev(V,A.onwrite):C._write(V,e,A.onwrite),A.sync=!1}function l(C,A,$,Z,V){--A.pendingcb,$?(w.nextTick(V,Z),w.nextTick(W,C,A),C._writableState.errorEmitted=!0,xe(C,Z)):(V(Z),C._writableState.errorEmitted=!0,xe(C,Z),W(C,A))}function a(C){C.writing=!1,C.writecb=null,C.length-=C.writelen,C.writelen=0}function y(C,A){var $=C._writableState,Z=$.sync,V=$.writecb;if(typeof V!="function")throw new Ce;if(a($),A)l(C,$,Z,A,V);else{var e=m($)||C.destroyed;e||$.corked||$.bufferProcessing||!$.bufferedRequest||L(C,$),Z?w.nextTick(d,C,$,e,V):d(C,$,e,V)}}function d(C,A,$,Z){$||T(C,A),A.pendingcb--,Z(),W(C,A)}function T(C,A){A.length===0&&A.needDrain&&(A.needDrain=!1,C.emit("drain"))}function L(C,A){A.bufferProcessing=!0;var $=A.bufferedRequest;if(C._writev&&$&&$.next){var Z=A.bufferedRequestCount,V=Array(Z),e=A.corkedRequestsFree;e.entry=$;for(var t=0,n=!0;$;)V[t]=$,$.isBuf||(n=!1),$=$.next,t+=1;V.allBuffers=n,i(C,A,!0,A.length,V,"",e.finish),A.pendingcb++,A.lastBufferedRequest=null,e.next?(A.corkedRequestsFree=e.next,e.next=null):A.corkedRequestsFree=new g(A),A.bufferedRequestCount=0}else{for(;$;){var c=$.chunk,_=$.encoding,I=$.callback,F=A.objectMode?1:c.length;if(i(C,A,!1,F,c,_,I),$=$.next,A.bufferedRequestCount--,A.writing)break}$===null&&(A.lastBufferedRequest=null)}A.bufferedRequest=$,A.bufferProcessing=!1}function m(C){return C.ending&&C.length===0&&C.bufferedRequest===null&&!C.finished&&!C.writing}function x(C,A){C._final(function($){A.pendingcb--,$&&xe(C,$),A.prefinished=!0,C.emit("prefinish"),W(C,A)})}function k(C,A){A.prefinished||A.finalCalled||(typeof C._final!="function"||A.destroyed?(A.prefinished=!0,C.emit("prefinish")):(A.pendingcb++,A.finalCalled=!0,w.nextTick(x,C,A)))}function W(C,A){var $=m(A);if($&&(k(C,A),A.pendingcb===0&&(A.finished=!0,C.emit("finish"),A.autoDestroy))){var Z=C._readableState;(!Z||Z.autoDestroy&&Z.endEmitted)&&C.destroy()}return $}function ae(C,A,$){A.ending=!0,W(C,A),$&&(A.finished?w.nextTick($):C.once("finish",$)),A.ended=!0,C.writable=!1}function ue(C,A,$){var Z=C.entry;for(C.entry=null;Z;){var V=Z.callback;A.pendingcb--,V($),Z=Z.next}A.corkedRequestsFree.next=C}j.exports=s;var he;s.WritableState=o;var Pe={deprecate:N("util-deprecate")},U=N("./internal/streams/stream"),B=N("buffer").Buffer,oe=u.Uint8Array||function(){},Y=N("./internal/streams/destroy"),ne=N("./internal/streams/state"),G=ne.getHighWaterMark,Q=N("../errors").codes,de=Q.ERR_INVALID_ARG_TYPE,me=Q.ERR_METHOD_NOT_IMPLEMENTED,Ce=Q.ERR_MULTIPLE_CALLBACK,Ne=Q.ERR_STREAM_CANNOT_PIPE,je=Q.ERR_STREAM_DESTROYED,Se=Q.ERR_STREAM_NULL_VALUES,Be=Q.ERR_STREAM_WRITE_AFTER_END,ke=Q.ERR_UNKNOWN_ENCODING,xe=Y.errorOrDestroy;N("inherits")(s,U),o.prototype.getBuffer=function(){for(var C=this.bufferedRequest,A=[];C;)A.push(C),C=C.next;return A},function(){try{Object.defineProperty(o.prototype,"buffer",{get:Pe.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(C){}}();var Te;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Te=Function.prototype[Symbol.hasInstance],Object.defineProperty(s,Symbol.hasInstance,{value:function(C){return!!Te.call(this,C)||this===s&&C&&C._writableState instanceof o}})):Te=function(C){return C instanceof this},s.prototype.pipe=function(){xe(this,new Ne)},s.prototype.write=function(C,A,$){var Z=this._writableState,V=!1,e=!Z.objectMode&&r(C);return e&&!B.isBuffer(C)&&(C=R(C)),typeof A=="function"&&($=A,A=null),e?A="buffer":!A&&(A=Z.defaultEncoding),typeof $!="function"&&($=h),Z.ending?S(this,$):(e||f(this,Z,C,$))&&(Z.pendingcb++,V=E(this,Z,e,C,A,$)),V},s.prototype.cork=function(){this._writableState.corked++},s.prototype.uncork=function(){var C=this._writableState;C.corked&&(C.corked--,!C.writing&&!C.corked&&!C.bufferProcessing&&C.bufferedRequest&&L(this,C))},s.prototype.setDefaultEncoding=function(C){if(typeof C=="string"&&(C=C.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((C+"").toLowerCase())))throw new ke(C);return this._writableState.defaultEncoding=C,this},Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),s.prototype._write=function(C,A,$){$(new me("_write()"))},s.prototype._writev=null,s.prototype.end=function(C,A,$){var Z=this._writableState;return typeof C=="function"?($=C,C=null,A=null):typeof A=="function"&&($=A,A=null),C!=null&&this.write(C,A),Z.corked&&(Z.corked=1,this.uncork()),Z.ending||ae(this,Z,$),this},Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(C){this._writableState&&(this._writableState.destroyed=C)}}),s.prototype.destroy=Y.destroy,s.prototype._undestroy=Y.undestroy,s.prototype._destroy=function(C,A){A(C)}}).call(this)}).call(this,N("_process"),typeof v.g=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:v.g)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/destroy":23,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,inherits:10,"util-deprecate":32}],21:[function(N,j){(function(w){(function(){"use strict";function u(T,L,m){return L in T?Object.defineProperty(T,L,{value:m,enumerable:!0,configurable:!0,writable:!0}):T[L]=m,T}function g(T,L){return{value:T,done:L}}function R(T){var L=T[S];if(L!==null){var m=T[a].read();m!==null&&(T[i]=null,T[S]=null,T[f]=null,L(g(m,!1)))}}function r(T){w.nextTick(R,T)}function h(T,L){return function(m,x){T.then(function(){return L[E]?void m(g(void 0,!0)):void L[l](m,x)},x)}}var o,s=N("./end-of-stream"),S=Symbol("lastResolve"),f=Symbol("lastReject"),p=Symbol("error"),E=Symbol("ended"),i=Symbol("lastPromise"),l=Symbol("handlePromise"),a=Symbol("stream"),y=Object.getPrototypeOf(function(){}),d=Object.setPrototypeOf((o={get stream(){return this[a]},next:function(){var T=this,L=this[p];if(L!==null)return Promise.reject(L);if(this[E])return Promise.resolve(g(void 0,!0));if(this[a].destroyed)return new Promise(function(W,ae){w.nextTick(function(){T[p]?ae(T[p]):W(g(void 0,!0))})});var m,x=this[i];if(x)m=new Promise(h(x,this));else{var k=this[a].read();if(k!==null)return Promise.resolve(g(k,!1));m=new Promise(this[l])}return this[i]=m,m}},u(o,Symbol.asyncIterator,function(){return this}),u(o,"return",function(){var T=this;return new Promise(function(L,m){T[a].destroy(null,function(x){return x?void m(x):void L(g(void 0,!0))})})}),o),y);j.exports=function(T){var L,m=Object.create(d,(L={},u(L,a,{value:T,writable:!0}),u(L,S,{value:null,writable:!0}),u(L,f,{value:null,writable:!0}),u(L,p,{value:null,writable:!0}),u(L,E,{value:T._readableState.endEmitted,writable:!0}),u(L,l,{value:function(x,k){var W=m[a].read();W?(m[i]=null,m[S]=null,m[f]=null,x(g(W,!1))):(m[S]=x,m[f]=k)},writable:!0}),L));return m[i]=null,s(T,function(x){if(x&&x.code!=="ERR_STREAM_PREMATURE_CLOSE"){var k=m[f];return k!==null&&(m[i]=null,m[S]=null,m[f]=null,k(x)),void(m[p]=x)}var W=m[S];W!==null&&(m[i]=null,m[S]=null,m[f]=null,W(g(void 0,!0))),m[E]=!0}),T.on("readable",r.bind(null,m)),m}}).call(this)}).call(this,N("_process"))},{"./end-of-stream":24,_process:12}],22:[function(N,j){"use strict";function w(i,l){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(i);l&&(y=y.filter(function(d){return Object.getOwnPropertyDescriptor(i,d).enumerable})),a.push.apply(a,y)}return a}function u(i){for(var l,a=1;a<arguments.length;a++)l=arguments[a]==null?{}:arguments[a],a%2?w(Object(l),!0).forEach(function(y){g(i,y,l[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):w(Object(l)).forEach(function(y){Object.defineProperty(i,y,Object.getOwnPropertyDescriptor(l,y))});return i}function g(i,l,a){return l in i?Object.defineProperty(i,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[l]=a,i}function R(i,l){if(!(i instanceof l))throw new TypeError("Cannot call a class as a function")}function r(i,l){for(var a,y=0;y<l.length;y++)a=l[y],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,a.key,a)}function h(i,l,a){return l&&r(i.prototype,l),a&&r(i,a),i}function o(i,l,a){S.prototype.copy.call(i,l,a)}var s=N("buffer"),S=s.Buffer,f=N("util"),p=f.inspect,E=p&&p.custom||"inspect";j.exports=function(){function i(){R(this,i),this.head=null,this.tail=null,this.length=0}return h(i,[{key:"push",value:function(l){var a={data:l,next:null};0<this.length?this.tail.next=a:this.head=a,this.tail=a,++this.length}},{key:"unshift",value:function(l){var a={data:l,next:this.head};this.length===0&&(this.tail=a),this.head=a,++this.length}},{key:"shift",value:function(){if(this.length!==0){var l=this.head.data;return this.head=this.length===1?this.tail=null:this.head.next,--this.length,l}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(l){if(this.length===0)return"";for(var a=this.head,y=""+a.data;a=a.next;)y+=l+a.data;return y}},{key:"concat",value:function(l){if(this.length===0)return S.alloc(0);for(var a=S.allocUnsafe(l>>>0),y=this.head,d=0;y;)o(y.data,a,d),d+=y.data.length,y=y.next;return a}},{key:"consume",value:function(l,a){var y;return l<this.head.data.length?(y=this.head.data.slice(0,l),this.head.data=this.head.data.slice(l)):l===this.head.data.length?y=this.shift():y=a?this._getString(l):this._getBuffer(l),y}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(l){var a=this.head,y=1,d=a.data;for(l-=d.length;a=a.next;){var T=a.data,L=l>T.length?T.length:l;if(d+=L===T.length?T:T.slice(0,l),l-=L,l===0){L===T.length?(++y,this.head=a.next?a.next:this.tail=null):(this.head=a,a.data=T.slice(L));break}++y}return this.length-=y,d}},{key:"_getBuffer",value:function(l){var a=S.allocUnsafe(l),y=this.head,d=1;for(y.data.copy(a),l-=y.data.length;y=y.next;){var T=y.data,L=l>T.length?T.length:l;if(T.copy(a,a.length-l,0,L),l-=L,l===0){L===T.length?(++d,this.head=y.next?y.next:this.tail=null):(this.head=y,y.data=T.slice(L));break}++d}return this.length-=d,a}},{key:E,value:function(l,a){return p(this,u({},a,{depth:0,customInspect:!1}))}}]),i}()},{buffer:3,util:2}],23:[function(N,j){(function(w){(function(){"use strict";function u(r,h){R(r,h),g(r)}function g(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function R(r,h){r.emit("error",h)}j.exports={destroy:function(r,h){var o=this,s=this._readableState&&this._readableState.destroyed,S=this._writableState&&this._writableState.destroyed;return s||S?(h?h(r):r&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,w.nextTick(R,this,r)):w.nextTick(R,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(f){!h&&f?o._writableState?o._writableState.errorEmitted?w.nextTick(g,o):(o._writableState.errorEmitted=!0,w.nextTick(u,o,f)):w.nextTick(u,o,f):h?(w.nextTick(g,o),h(f)):w.nextTick(g,o)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(r,h){var o=r._readableState,s=r._writableState;o&&o.autoDestroy||s&&s.autoDestroy?r.destroy(h):r.emit("error",h)}}}).call(this)}).call(this,N("_process"))},{_process:12}],24:[function(N,j){"use strict";function w(h){var o=!1;return function(){if(!o){o=!0;for(var s=arguments.length,S=Array(s),f=0;f<s;f++)S[f]=arguments[f];h.apply(this,S)}}}function u(){}function g(h){return h.setHeader&&typeof h.abort=="function"}function R(h,o,s){if(typeof o=="function")return R(h,null,o);o||(o={}),s=w(s||u);var S=o.readable||o.readable!==!1&&h.readable,f=o.writable||o.writable!==!1&&h.writable,p=function(){h.writable||i()},E=h._writableState&&h._writableState.finished,i=function(){f=!1,E=!0,S||s.call(h)},l=h._readableState&&h._readableState.endEmitted,a=function(){S=!1,l=!0,f||s.call(h)},y=function(L){s.call(h,L)},d=function(){var L;return S&&!l?(h._readableState&&h._readableState.ended||(L=new r),s.call(h,L)):f&&!E?(h._writableState&&h._writableState.ended||(L=new r),s.call(h,L)):void 0},T=function(){h.req.on("finish",i)};return g(h)?(h.on("complete",i),h.on("abort",d),h.req?T():h.on("request",T)):f&&!h._writableState&&(h.on("end",p),h.on("close",p)),h.on("end",a),h.on("finish",i),o.error!==!1&&h.on("error",y),h.on("close",d),function(){h.removeListener("complete",i),h.removeListener("abort",d),h.removeListener("request",T),h.req&&h.req.removeListener("finish",i),h.removeListener("end",p),h.removeListener("close",p),h.removeListener("finish",i),h.removeListener("end",a),h.removeListener("error",y),h.removeListener("close",d)}}var r=N("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;j.exports=R},{"../../../errors":15}],25:[function(N,j){j.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],26:[function(N,j){"use strict";function w(E){var i=!1;return function(){i||(i=!0,E.apply(void 0,arguments))}}function u(E){if(E)throw E}function g(E){return E.setHeader&&typeof E.abort=="function"}function R(E,i,l,a){a=w(a);var y=!1;E.on("close",function(){y=!0}),s===void 0&&(s=N("./end-of-stream")),s(E,{readable:i,writable:l},function(T){return T?a(T):(y=!0,void a())});var d=!1;return function(T){if(!y)return d?void 0:(d=!0,g(E)?E.abort():typeof E.destroy=="function"?E.destroy():void a(T||new p("pipe")))}}function r(E){E()}function h(E,i){return E.pipe(i)}function o(E){return E.length&&typeof E[E.length-1]=="function"?E.pop():u}var s,S=N("../../../errors").codes,f=S.ERR_MISSING_ARGS,p=S.ERR_STREAM_DESTROYED;j.exports=function(){for(var E=arguments.length,i=Array(E),l=0;l<E;l++)i[l]=arguments[l];var a=o(i);if(Array.isArray(i[0])&&(i=i[0]),2>i.length)throw new f("streams");var y,d=i.map(function(T,L){var m=L<i.length-1;return R(T,m,0<L,function(x){y||(y=x),x&&d.forEach(r),m||(d.forEach(r),a(y))})});return i.reduce(h)}},{"../../../errors":15,"./end-of-stream":24}],27:[function(N,j){"use strict";function w(g,R,r){return g.highWaterMark==null?R?g[r]:null:g.highWaterMark}var u=N("../../../errors").codes.ERR_INVALID_OPT_VALUE;j.exports={getHighWaterMark:function(g,R,r,h){var o=w(R,h,r);if(o!=null){if(!(isFinite(o)&&P(o)===o)||0>o){var s=h?r:"highWaterMark";throw new u(s,o)}return P(o)}return g.objectMode?16:16384}}},{"../../../errors":15}],28:[function(N,j){j.exports=N("events").EventEmitter},{events:7}],29:[function(N,j,w){w=j.exports=N("./lib/_stream_readable.js"),w.Stream=w,w.Readable=w,w.Writable=N("./lib/_stream_writable.js"),w.Duplex=N("./lib/_stream_duplex.js"),w.Transform=N("./lib/_stream_transform.js"),w.PassThrough=N("./lib/_stream_passthrough.js"),w.finished=N("./lib/internal/streams/end-of-stream.js"),w.pipeline=N("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":16,"./lib/_stream_passthrough.js":17,"./lib/_stream_readable.js":18,"./lib/_stream_transform.js":19,"./lib/_stream_writable.js":20,"./lib/internal/streams/end-of-stream.js":24,"./lib/internal/streams/pipeline.js":26}],30:[function(N,j,w){function u(h,o){for(var s in h)o[s]=h[s]}function g(h,o,s){return r(h,o,s)}var R=N("buffer"),r=R.Buffer;r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?j.exports=R:(u(R,w),w.Buffer=g),g.prototype=Object.create(r.prototype),u(r,g),g.from=function(h,o,s){if(typeof h=="number")throw new TypeError("Argument must not be a number");return r(h,o,s)},g.alloc=function(h,o,s){if(typeof h!="number")throw new TypeError("Argument must be a number");var S=r(h);return o===void 0?S.fill(0):typeof s=="string"?S.fill(o,s):S.fill(o),S},g.allocUnsafe=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return r(h)},g.allocUnsafeSlow=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return R.SlowBuffer(h)}},{buffer:3}],31:[function(N,j,w){"use strict";function u(d){if(!d)return"utf8";for(var T;;)switch(d){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return d;default:if(T)return;d=(""+d).toLowerCase(),T=!0}}function g(d){var T=u(d);if(typeof T!="string"&&(a.isEncoding===y||!y(d)))throw new Error("Unknown encoding: "+d);return T||d}function R(d){this.encoding=g(d);var T;switch(this.encoding){case"utf16le":this.text=S,this.end=f,T=4;break;case"utf8":this.fillLast=s,T=4;break;case"base64":this.text=p,this.end=E,T=3;break;default:return this.write=i,void(this.end=l)}this.lastNeed=0,this.lastTotal=0,this.lastChar=a.allocUnsafe(T)}function r(d){return 127>=d?0:d>>5==6?2:d>>4==14?3:d>>3==30?4:d>>6==2?-1:-2}function h(d,T,L){var m=T.length-1;if(m<L)return 0;var x=r(T[m]);return 0<=x?(0<x&&(d.lastNeed=x-1),x):--m<L||x===-2?0:(x=r(T[m]),0<=x?(0<x&&(d.lastNeed=x-2),x):--m<L||x===-2?0:(x=r(T[m]),0<=x?(0<x&&(x===2?x=0:d.lastNeed=x-3),x):0))}function o(d,T){if((192&T[0])!=128)return d.lastNeed=0,"\uFFFD";if(1<d.lastNeed&&1<T.length){if((192&T[1])!=128)return d.lastNeed=1,"\uFFFD";if(2<d.lastNeed&&2<T.length&&(192&T[2])!=128)return d.lastNeed=2,"\uFFFD"}}function s(d){var T=this.lastTotal-this.lastNeed,L=o(this,d,T);return L===void 0?this.lastNeed<=d.length?(d.copy(this.lastChar,T,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(d.copy(this.lastChar,T,0,d.length),void(this.lastNeed-=d.length)):L}function S(d,T){if((d.length-T)%2==0){var L=d.toString("utf16le",T);if(L){var m=L.charCodeAt(L.length-1);if(55296<=m&&56319>=m)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1],L.slice(0,-1)}return L}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=d[d.length-1],d.toString("utf16le",T,d.length-1)}function f(d){var T=d&&d.length?this.write(d):"";if(this.lastNeed){var L=this.lastTotal-this.lastNeed;return T+this.lastChar.toString("utf16le",0,L)}return T}function p(d,T){var L=(d.length-T)%3;return L==0?d.toString("base64",T):(this.lastNeed=3-L,this.lastTotal=3,L==1?this.lastChar[0]=d[d.length-1]:(this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1]),d.toString("base64",T,d.length-L))}function E(d){var T=d&&d.length?this.write(d):"";return this.lastNeed?T+this.lastChar.toString("base64",0,3-this.lastNeed):T}function i(d){return d.toString(this.encoding)}function l(d){return d&&d.length?this.write(d):""}var a=N("safe-buffer").Buffer,y=a.isEncoding||function(d){switch(d=""+d,d&&d.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};w.StringDecoder=R,R.prototype.write=function(d){if(d.length===0)return"";var T,L;if(this.lastNeed){if(T=this.fillLast(d),T===void 0)return"";L=this.lastNeed,this.lastNeed=0}else L=0;return L<d.length?T?T+this.text(d,L):this.text(d,L):T||""},R.prototype.end=function(d){var T=d&&d.length?this.write(d):"";return this.lastNeed?T+"\uFFFD":T},R.prototype.text=function(d,T){var L=h(this,d,T);if(!this.lastNeed)return d.toString("utf8",T);this.lastTotal=L;var m=d.length-(L-this.lastNeed);return d.copy(this.lastChar,0,m),d.toString("utf8",T,m)},R.prototype.fillLast=function(d){return this.lastNeed<=d.length?(d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,d.length),void(this.lastNeed-=d.length))}},{"safe-buffer":30}],32:[function(N,j){(function(w){(function(){function u(g){try{if(!w.localStorage)return!1}catch(r){return!1}var R=w.localStorage[g];return R!=null&&(R+"").toLowerCase()==="true"}j.exports=function(g,R){function r(){if(!h){if(u("throwDeprecation"))throw new Error(R);u("traceDeprecation")?console.trace(R):console.warn(R),h=!0}return g.apply(this,arguments)}if(u("noDeprecation"))return g;var h=!1;return r}}).call(this)}).call(this,typeof v.g=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:v.g)},{}],"/":[function(N,j){function w(E){return E.replace(/a=ice-options:trickle\s\n/g,"")}function u(E){console.warn(E)}const g=N("debug")("simple-peer"),R=N("get-browser-rtc"),r=N("randombytes"),h=N("readable-stream"),o=N("queue-microtask"),s=N("err-code"),{Buffer:S}=N("buffer"),f=65536;class p extends h.Duplex{constructor(i){if(i=Object.assign({allowHalfOpen:!1},i),super(i),this._id=r(4).toString("hex").slice(0,7),this._debug("new peer %o",i),this.channelName=i.initiator?i.channelName||r(20).toString("hex"):null,this.initiator=i.initiator||!1,this.channelConfig=i.channelConfig||p.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},p.config,i.config),this.offerOptions=i.offerOptions||{},this.answerOptions=i.answerOptions||{},this.sdpTransform=i.sdpTransform||(l=>l),this.streams=i.streams||(i.stream?[i.stream]:[]),this.trickle=i.trickle===void 0||i.trickle,this.allowHalfTrickle=i.allowHalfTrickle!==void 0&&i.allowHalfTrickle,this.iceCompleteTimeout=i.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=i.wrtc&&typeof i.wrtc=="object"?i.wrtc:R(),!this._wrtc)throw s(typeof window=="undefined"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(l){return void this.destroy(s(l,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=l=>{this._onIceCandidate(l)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(l=>{this.destroy(s(l,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=l=>{this._setupData(l)},this.streams&&this.streams.forEach(l=>{this.addStream(l)}),this._pc.ontrack=l=>{this._onTrack(l)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(i){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof i=="string")try{i=JSON.parse(i)}catch(l){i={}}this._debug("signal()"),i.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),i.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(i.transceiverRequest.kind,i.transceiverRequest.init)),i.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(i.candidate):this._pendingCandidates.push(i.candidate)),i.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(i)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(l=>{this._addIceCandidate(l)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(l=>{this.destroy(s(l,"ERR_SET_REMOTE_DESCRIPTION"))}),i.sdp||i.candidate||i.renegotiate||i.transceiverRequest||this.destroy(s(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(i){const l=new this._wrtc.RTCIceCandidate(i);this._pc.addIceCandidate(l).catch(a=>{!l.address||l.address.endsWith(".local")?u("Ignoring unsupported ICE candidate."):this.destroy(s(a,"ERR_ADD_ICE_CANDIDATE"))})}send(i){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(i)}}addTransceiver(i,l){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(i,l),this._needsNegotiation()}catch(a){this.destroy(s(a,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:i,init:l}})}}addStream(i){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),i.getTracks().forEach(l=>{this.addTrack(l,i)})}}addTrack(i,l){if(this.destroying)return;if(this.destroyed)throw s(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const a=this._senderMap.get(i)||new Map;let y=a.get(l);if(!y)y=this._pc.addTrack(i,l),a.set(l,y),this._senderMap.set(i,a),this._needsNegotiation();else throw y.removed?s(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):s(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(i,l,a){if(this.destroying)return;if(this.destroyed)throw s(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const y=this._senderMap.get(i),d=y?y.get(a):null;if(!d)throw s(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");l&&this._senderMap.set(l,y),d.replaceTrack==null?this.destroy(s(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK")):d.replaceTrack(l)}removeTrack(i,l){if(this.destroying)return;if(this.destroyed)throw s(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const a=this._senderMap.get(i),y=a?a.get(l):null;if(!y)throw s(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{y.removed=!0,this._pc.removeTrack(y)}catch(d){d.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(y):this.destroy(s(d,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(i){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),i.getTracks().forEach(l=>{this.removeTrack(l,i)})}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,o(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(i){this._destroy(i,()=>{})}_destroy(i,l){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",i&&(i.message||i)),o(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",i&&(i.message||i)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch(a){}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch(a){}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,i&&this.emit("error",i),this.emit("close"),l()}))}_setupData(i){if(!i.channel)return this.destroy(s(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=i.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=f),this.channelName=this._channel.label,this._channel.onmessage=a=>{this._onChannelMessage(a)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=a=>{const y=a.error instanceof Error?a.error:new Error(`Datachannel error: ${a.message} ${a.filename}:${a.lineno}:${a.colno}`);this.destroy(s(y,"ERR_DATA_CHANNEL"))};let l=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(l&&this._onChannelClose(),l=!0):l=!1},5e3)}_read(){}_write(i,l,a){if(this.destroyed)return a(s(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(i)}catch(y){return this.destroy(s(y,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>f?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=a):a(null)}else this._debug("write before connect"),this._chunk=i,this._cb=a}_onFinish(){if(!this.destroyed){const i=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?i():this.once("connect",i)}}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(i=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(i.sdp=w(i.sdp)),i.sdp=this.sdpTransform(i.sdp);const l=()=>{if(!this.destroyed){const a=this._pc.localDescription||i;this._debug("signal"),this.emit("signal",{type:a.type,sdp:a.sdp})}};this._pc.setLocalDescription(i).then(()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?l():this.once("_iceComplete",l))}).catch(a=>{this.destroy(s(a,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(i=>{this.destroy(s(i,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(i=>{i.mid||!i.sender.track||i.requested||(i.requested=!0,this.addTransceiver(i.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(i=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(i.sdp=w(i.sdp)),i.sdp=this.sdpTransform(i.sdp);const l=()=>{if(!this.destroyed){const a=this._pc.localDescription||i;this._debug("signal"),this.emit("signal",{type:a.type,sdp:a.sdp}),this.initiator||this._requestMissingTransceivers()}};this._pc.setLocalDescription(i).then(()=>{this.destroyed||(this.trickle||this._iceComplete?l():this.once("_iceComplete",l))}).catch(a=>{this.destroy(s(a,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(i=>{this.destroy(s(i,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(s(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const i=this._pc.iceConnectionState,l=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",i,l),this.emit("iceStateChange",i,l),(i==="connected"||i==="completed")&&(this._pcReady=!0,this._maybeReady()),i==="failed"&&this.destroy(s(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),i==="closed"&&this.destroy(s(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(i){const l=a=>(Object.prototype.toString.call(a.values)==="[object Array]"&&a.values.forEach(y=>{Object.assign(a,y)}),a);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(a=>{const y=[];a.forEach(d=>{y.push(l(d))}),i(null,y)},a=>i(a)):0<this._pc.getStats.length?this._pc.getStats(a=>{if(this.destroyed)return;const y=[];a.result().forEach(d=>{const T={};d.names().forEach(L=>{T[L]=d.stat(L)}),T.id=d.id,T.type=d.type,T.timestamp=d.timestamp,y.push(l(T))}),i(null,y)},a=>i(a)):i(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const i=()=>{this.destroyed||this.getStats((l,a)=>{if(this.destroyed)return;l&&(a=[]);const y={},d={},T={};let L=!1;a.forEach(x=>{(x.type==="remotecandidate"||x.type==="remote-candidate")&&(y[x.id]=x),(x.type==="localcandidate"||x.type==="local-candidate")&&(d[x.id]=x),(x.type==="candidatepair"||x.type==="candidate-pair")&&(T[x.id]=x)});const m=x=>{L=!0;let k=d[x.localCandidateId];k&&(k.ip||k.address)?(this.localAddress=k.ip||k.address,this.localPort=+k.port):k&&k.ipAddress?(this.localAddress=k.ipAddress,this.localPort=+k.portNumber):typeof x.googLocalAddress=="string"&&(k=x.googLocalAddress.split(":"),this.localAddress=k[0],this.localPort=+k[1]),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let W=y[x.remoteCandidateId];W&&(W.ip||W.address)?(this.remoteAddress=W.ip||W.address,this.remotePort=+W.port):W&&W.ipAddress?(this.remoteAddress=W.ipAddress,this.remotePort=+W.portNumber):typeof x.googRemoteAddress=="string"&&(W=x.googRemoteAddress.split(":"),this.remoteAddress=W[0],this.remotePort=+W[1]),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(a.forEach(x=>{x.type==="transport"&&x.selectedCandidatePairId&&m(T[x.selectedCandidatePairId]),(x.type==="googCandidatePair"&&x.googActiveConnection==="true"||(x.type==="candidatepair"||x.type==="candidate-pair")&&x.selected)&&m(x)}),!L&&(!Object.keys(T).length||Object.keys(d).length))return void setTimeout(i,100);if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(k){return this.destroy(s(k,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const x=this._cb;this._cb=null,x(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};i()}_onInterval(){this._cb&&this._channel&&!(this._channel.bufferedAmount>f)&&this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(i=>{this._pc.removeTrack(i),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(i){this.destroyed||(i.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:i.candidate.candidate,sdpMLineIndex:i.candidate.sdpMLineIndex,sdpMid:i.candidate.sdpMid}}):!i.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),i.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(i){if(this.destroyed)return;let l=i.data;l instanceof ArrayBuffer&&(l=S.from(l)),this.push(l)}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const i=this._cb;this._cb=null,i(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(i){this.destroyed||i.streams.forEach(l=>{this._debug("on track"),this.emit("track",i.track,l),this._remoteTracks.push({track:i.track,stream:l}),this._remoteStreams.some(a=>a.id===l.id)||(this._remoteStreams.push(l),o(()=>{this._debug("on stream"),this.emit("stream",l)}))})}_debug(){const i=[].slice.call(arguments);i[0]="["+this._id+"] "+i[0],g.apply(null,i)}}p.WEBRTC_SUPPORT=!!R(),p.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},p.channelConfig={},j.exports=p},{buffer:3,debug:4,"err-code":6,"get-browser-rtc":8,"queue-microtask":13,randombytes:14,"readable-stream":29}]},{},[])("/")})},77953:function(J,le,v){"use strict";v.d(le,{S:function(){return P}});var P=function(z,N,j,w){z.setState(N,!1,w)}},62657:function(J){function le(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}J.exports=le,J.exports.__esModule=!0,J.exports.default=J.exports},83136:function(J,le,v){var P=v(38836),fe=v(68919),z=v(75254);function N(j){var w=fe();return function(){var g=P(j),R;if(w){var r=P(this).constructor;R=Reflect.construct(g,arguments,r)}else R=g.apply(this,arguments);return z(this,R)}}J.exports=N,J.exports.__esModule=!0,J.exports.default=J.exports},38836:function(J){function le(v){return J.exports=le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(fe){return fe.__proto__||Object.getPrototypeOf(fe)},J.exports.__esModule=!0,J.exports.default=J.exports,le(v)}J.exports=le,J.exports.__esModule=!0,J.exports.default=J.exports},21742:function(J,le,v){var P=v(80038);function fe(z,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(N&&N.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),Object.defineProperty(z,"prototype",{writable:!1}),N&&P(z,N)}J.exports=fe,J.exports.__esModule=!0,J.exports.default=J.exports},68919:function(J){function le(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}J.exports=le,J.exports.__esModule=!0,J.exports.default=J.exports},75254:function(J,le,v){var P=v(31759).default,fe=v(62657);function z(N,j){if(j&&(P(j)==="object"||typeof j=="function"))return j;if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fe(N)}J.exports=z,J.exports.__esModule=!0,J.exports.default=J.exports},80038:function(J){function le(v,P){return J.exports=le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(z,N){return z.__proto__=N,z},J.exports.__esModule=!0,J.exports.default=J.exports,le(v,P)}J.exports=le,J.exports.__esModule=!0,J.exports.default=J.exports},29592:function(J,le,v){"use strict";v.d(le,{x$:function(){return pt}});var P=v(53464),fe=v(80589),z=v(35141);const N=1200,j=2500,w=3e4,u=b=>{if(b.shouldConnect&&b.ws===null){const O=new WebSocket(b.url),D=b.binaryType;let H=null;D&&(O.binaryType=D),b.ws=O,b.connecting=!0,b.connected=!1,O.onmessage=q=>{b.lastMessageReceived=fe.ZG();const Ee=q.data,Re=typeof Ee=="string"?JSON.parse(Ee):Ee;Re&&Re.type==="pong"&&(clearTimeout(H),H=setTimeout(se,w/2)),b.emit("message",[Re,b])};const K=q=>{b.ws!==null&&(b.ws=null,b.connecting=!1,b.connected?(b.connected=!1,b.emit("disconnect",[{type:"disconnect",error:q},b])):b.unsuccessfulReconnects++,setTimeout(u,z.VV(z.mv(b.unsuccessfulReconnects+1)*N,j),b)),clearTimeout(H)},se=()=>{b.ws===O&&b.send({type:"ping"})};O.onclose=()=>K(null),O.onerror=q=>K(q),O.onopen=()=>{b.lastMessageReceived=fe.ZG(),b.connecting=!1,b.connected=!0,b.unsuccessfulReconnects=0,b.emit("connect",[{type:"connect"},b]),H=setTimeout(se,w/2)}}};class g extends P.y{constructor(O,{binaryType:D}={}){super(),this.url=O,this.ws=null,this.binaryType=D||null,this.connected=!1,this.connecting=!1,this.unsuccessfulReconnects=0,this.lastMessageReceived=0,this.shouldConnect=!0,this._checkInterval=setInterval(()=>{this.connected&&w<fe.ZG()-this.lastMessageReceived&&this.ws.close()},w/2),u(this)}send(O){this.ws&&this.ws.send(JSON.stringify(O))}destroy(){clearInterval(this._checkInterval),this.disconnect(),super.destroy()}disconnect(){this.shouldConnect=!1,this.ws!==null&&this.ws.close()}connect(){this.shouldConnect=!0,!this.connected&&this.ws===null&&u(this)}}var R=v(16842),r=v(96881),h=v(85191),o=v(1110),s=v(75408),S=v(11234),f=v(10233),p=v(15508),E=v(10562),i=v(75689),l=v(90023);const a=new Map;class y{constructor(O){this.room=O,this.onmessage=null,this._onChange=D=>D.key===O&&this.onmessage!==null&&this.onmessage({data:i.Gh(D.newValue||"")}),l.z2(this._onChange)}postMessage(O){l.XN.setItem(this.room,i.s3(i.eh(O)))}close(){l.F(this._onChange)}}const d=typeof BroadcastChannel=="undefined"?y:BroadcastChannel,T=b=>R.Yu(a,b,()=>{const O=E.Ue(),D=new d(b);return D.onmessage=H=>O.forEach(K=>K(H.data,"broadcastchannel")),{bc:D,subs:O}}),L=(b,O)=>(T(b).subs.add(O),O),m=(b,O)=>{const D=T(b),H=D.subs.delete(O);return H&&D.subs.size===0&&(D.bc.close(),a.delete(b)),H},x=(b,O,D=null)=>{const H=T(b);H.bc.postMessage(O),H.subs.forEach(K=>K(O,D))},k=()=>{let b=!0;return(O,D)=>{if(b){b=!1;try{O()}finally{b=!0}}else D!==void 0&&D()}};var W=v(40396),ae=v(54260);const ue=0,he=1,Pe=2,U=(b,O)=>{o.uE(b,ue);const D=ae.gJ(O);o.mP(b,D)},B=(b,O,D)=>{o.uE(b,he),o.mP(b,ae.D$(O,D))},oe=(b,O,D)=>B(O,D,s.HN(b)),Y=(b,O,D)=>{try{ae.NG(O,s.HN(b),D)}catch(H){console.error("Caught error while handling a Yjs update",H)}},ne=(b,O)=>{o.uE(b,Pe),o.mP(b,O)},G=Y,Q=(b,O,D,H)=>{const K=s.yg(b);switch(K){case ue:oe(b,O,D);break;case he:Y(b,D,H);break;case Pe:G(b,D,H);break;default:throw new Error("Unknown message type")}return K};var de=v(57356);const me=3e4;class Ce extends P.y{constructor(O){super(),this.doc=O,this.clientID=O.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{const D=fe.ZG();this.getLocalState()!==null&&me/2<=D-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const H=[];this.meta.forEach((K,se)=>{se!==this.clientID&&me<=D-K.lastUpdated&&this.states.has(se)&&H.push(se)}),H.length>0&&Ne(this,H,"timeout")},z.GW(me/10)),O.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(O){const D=this.clientID,H=this.meta.get(D),K=H===void 0?0:H.clock+1,se=this.states.get(D);O===null?this.states.delete(D):this.states.set(D,O),this.meta.set(D,{clock:K,lastUpdated:fe.ZG()});const q=[],Ee=[],Re=[],Fe=[];O===null?Fe.push(D):se==null?O!=null&&q.push(D):(Ee.push(D),de.Hi(se,O)||Re.push(D)),(q.length>0||Re.length>0||Fe.length>0)&&this.emit("change",[{added:q,updated:Re,removed:Fe},"local"]),this.emit("update",[{added:q,updated:Ee,removed:Fe},"local"])}setLocalStateField(O,D){const H=this.getLocalState();H!==null&&this.setLocalState(jn(An({},H),{[O]:D}))}getStates(){return this.states}}const Ne=(b,O,D)=>{const H=[];for(let K=0;K<O.length;K++){const se=O[K];if(b.states.has(se)){if(b.states.delete(se),se===b.clientID){const q=b.meta.get(se);b.meta.set(se,{clock:q.clock+1,lastUpdated:fe.ZG()})}H.push(se)}}H.length>0&&(b.emit("change",[{added:[],updated:[],removed:H},D]),b.emit("update",[{added:[],updated:[],removed:H},D]))},je=(b,O,D=b.states)=>{const H=O.length,K=o.Mf();o.uE(K,H);for(let se=0;se<H;se++){const q=O[se],Ee=D.get(q)||null,Re=b.meta.get(q).clock;o.uE(K,q),o.uE(K,Re),o.uw(K,JSON.stringify(Ee))}return o._f(K)},Se=(b,O)=>{const D=decoding.createDecoder(b),H=encoding.createEncoder(),K=decoding.readVarUint(D);encoding.writeVarUint(H,K);for(let se=0;se<K;se++){const q=decoding.readVarUint(D),Ee=decoding.readVarUint(D),Re=JSON.parse(decoding.readVarString(D)),Fe=O(Re);encoding.writeVarUint(H,q),encoding.writeVarUint(H,Ee),encoding.writeVarString(H,JSON.stringify(Fe))}return encoding.toUint8Array(H)},Be=(b,O,D)=>{const H=s.l1(O),K=fe.ZG(),se=[],q=[],Ee=[],Re=[],Fe=s.yg(H);for(let Ae=0;Ae<Fe;Ae++){const Ye=s.yg(H);let dt=s.yg(H);const M=JSON.parse(s.kf(H)),X=b.meta.get(Ye),re=b.states.get(Ye),ie=X===void 0?0:X.clock;(ie<dt||ie===dt&&M===null&&b.states.has(Ye))&&(M===null?Ye===b.clientID&&b.getLocalState()!=null?dt++:b.states.delete(Ye):b.states.set(Ye,M),b.meta.set(Ye,{clock:dt,lastUpdated:K}),X===void 0&&M!==null?se.push(Ye):X!==void 0&&M===null?Re.push(Ye):M!==null&&(de.Hi(M,re)||Ee.push(Ye),q.push(Ye)))}(se.length>0||Ee.length>0||Re.length>0)&&b.emit("change",[{added:se,updated:Ee,removed:Re},D]),(se.length>0||q.length>0||Re.length>0)&&b.emit("update",[{added:se,updated:q,removed:Re},D])};var ke=v(34543);const xe=(b,O)=>{const D=ke.lz(b).buffer,H=ke.lz(O).buffer;return crypto.subtle.importKey("raw",D,"PBKDF2",!1,["deriveKey"]).then(K=>crypto.subtle.deriveKey({name:"PBKDF2",salt:H,iterations:1e5,hash:"SHA-256"},K,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]))},Te=(b,O)=>{if(!O)return p.DB(b);const D=crypto.getRandomValues(new Uint8Array(12));return crypto.subtle.encrypt({name:"AES-GCM",iv:D},O,b).then(H=>{const K=o.Mf();return o.uw(K,"AES-GCM"),o.mP(K,D),o.mP(K,new Uint8Array(H)),o._f(K)})},C=(b,O)=>{const D=o.Mf();return o.EM(D,b),Te(o._f(D),O)},A=(b,O)=>{if(!O)return p.DB(b);const D=s.l1(b);s.kf(D)!=="AES-GCM"&&p.d1(r.Ue("Unknown encryption algorithm"));const K=s.HN(D),se=s.HN(D);return crypto.subtle.decrypt({name:"AES-GCM",iv:K},O,se).then(q=>new Uint8Array(q))},$=(b,O)=>A(b,O).then(D=>s.v_(s.l1(new Uint8Array(D))));var Z=v(14224);const V=S.YX("y-webrtc"),e=0,t=3,n=1,c=4,_=new Map,I=new Map,F=b=>{let O=!0;b.webrtcConns.forEach(D=>{D.synced||(O=!1)}),(!O&&b.synced||O&&!b.synced)&&(b.synced=O,b.provider.emit("synced",[{synced:O}]),V("synced ",f.Pl,b.name,f.YW," with all peers"))},te=(b,O,D)=>{const H=s.l1(O),K=o.Mf(),se=s.yg(H);if(b===void 0)return null;const q=b.awareness,Ee=b.doc;let Re=!1;switch(se){case e:{o.uE(K,e);const Fe=Q(H,K,Ee,b);Fe===he&&!b.synced&&D(),Fe===ue&&(Re=!0);break}case t:o.uE(K,n),o.mP(K,je(q,Array.from(q.getStates().keys()))),Re=!0;break;case n:Be(q,s.HN(H),b);break;case c:{const Fe=s.kj(H)===1,Ae=s.kf(H);if(Ae!==b.peerId&&(b.bcConns.has(Ae)&&!Fe||!b.bcConns.has(Ae)&&Fe)){const Ye=[],dt=[];Fe?(b.bcConns.add(Ae),dt.push(Ae)):(b.bcConns.delete(Ae),Ye.push(Ae)),b.provider.emit("peers",[{added:dt,removed:Ye,webrtcPeers:Array.from(b.webrtcConns.keys()),bcPeers:Array.from(b.bcConns)}]),xt(b)}break}default:return console.error("Unable to compute message"),K}return Re?K:null},pe=(b,O)=>{const D=b.room;return V("received message from ",f.Pl,b.remotePeerId,f.s7," (",D.name,")",f.YW,f.WO),te(D,O,()=>{b.synced=!0,V("synced ",f.Pl,D.name,f.YW," with ",f.Pl,b.remotePeerId),F(D)})},ye=(b,O)=>{V("send message to ",f.Pl,b.remotePeerId,f.YW,f.s7," (",b.room.name,")",f.WO);try{b.peer.send(o._f(O))}catch(D){}},ve=(b,O)=>{V("broadcast message in ",f.Pl,b.name,f.YW),b.webrtcConns.forEach(D=>{try{D.peer.send(O)}catch(H){}})};class ce{constructor(O,D,H,K){V("establishing connection to ",f.Pl,H),this.room=K,this.remotePeerId=H,this.glareToken=void 0,this.closed=!1,this.connected=!1,this.synced=!1,this.peer=new W(An({initiator:D},K.provider.peerOpts)),this.peer.on("signal",se=>{this.glareToken===void 0&&(this.glareToken=Date.now()+Math.random()),Wt(O,K,{to:H,from:K.peerId,type:"signal",token:this.glareToken,signal:se})}),this.peer.on("connect",()=>{V("connected to ",f.Pl,H),this.connected=!0;const q=K.provider.doc,Ee=K.awareness,Re=o.Mf();o.uE(Re,e),U(Re,q),ye(this,Re);const Fe=Ee.getStates();if(Fe.size>0){const Ae=o.Mf();o.uE(Ae,n),o.mP(Ae,je(Ee,Array.from(Fe.keys()))),ye(this,Ae)}}),this.peer.on("close",()=>{this.connected=!1,this.closed=!0,K.webrtcConns.has(this.remotePeerId)&&(K.webrtcConns.delete(this.remotePeerId),K.provider.emit("peers",[{removed:[this.remotePeerId],added:[],webrtcPeers:Array.from(K.webrtcConns.keys()),bcPeers:Array.from(K.bcConns)}])),F(K),this.peer.destroy(),V("closed connection to ",f.Pl,H),Ue(K)}),this.peer.on("error",se=>{V("Error in connection to ",f.Pl,H,": ",se),Ue(K)}),this.peer.on("data",se=>{const q=pe(this,se);q!==null&&ye(this,q)})}destroy(){this.peer.destroy()}}const Ke=(b,O)=>Te(O,b.key).then(D=>b.mux(()=>x(b.name,D))),tt=(b,O)=>{b.bcconnected&&Ke(b,O),ve(b,O)},Ue=b=>{_.forEach(O=>{O.connected&&(O.send({type:"subscribe",topics:[b.name]}),b.webrtcConns.size<b.provider.maxConns&&Wt(O,b,{type:"announce",from:b.peerId}))})},xt=b=>{if(b.provider.filterBcConns){const O=o.Mf();o.uE(O,c),o.$F(O,1),o.uw(O,b.peerId),Ke(b,o._f(O))}};class ut{constructor(O,D,H,K){this.peerId=h.k$(),this.doc=O,this.awareness=D.awareness,this.provider=D,this.synced=!1,this.name=H,this.key=K,this.webrtcConns=new Map,this.bcConns=new Set,this.mux=k(),this.bcconnected=!1,this._bcSubscriber=se=>A(new Uint8Array(se),K).then(q=>this.mux(()=>{const Ee=te(this,q,()=>{});Ee&&Ke(this,o._f(Ee))})),this._docUpdateHandler=(se,q)=>{const Ee=o.Mf();o.uE(Ee,e),ne(Ee,se),tt(this,o._f(Ee))},this._awarenessUpdateHandler=({added:se,updated:q,removed:Ee},Re)=>{const Fe=se.concat(q).concat(Ee),Ae=o.Mf();o.uE(Ae,n),o.mP(Ae,je(this.awareness,Fe)),tt(this,o._f(Ae))},this._beforeUnloadHandler=()=>{Ne(this.awareness,[O.clientID],"window unload"),I.forEach(se=>{se.disconnect()})},typeof window!="undefined"?window.addEventListener("beforeunload",this._beforeUnloadHandler):typeof Z!="undefined"&&Z.on("exit",this._beforeUnloadHandler)}connect(){this.doc.on("update",this._docUpdateHandler),this.awareness.on("update",this._awarenessUpdateHandler),Ue(this);const O=this.name;L(O,this._bcSubscriber),this.bcconnected=!0,xt(this);const D=o.Mf();o.uE(D,e),U(D,this.doc),Ke(this,o._f(D));const H=o.Mf();o.uE(H,e),B(H,this.doc),Ke(this,o._f(H));const K=o.Mf();o.uE(K,t),Ke(this,o._f(K));const se=o.Mf();o.uE(se,n),o.mP(se,je(this.awareness,[this.doc.clientID])),Ke(this,o._f(se))}disconnect(){_.forEach(D=>{D.connected&&D.send({type:"unsubscribe",topics:[this.name]})}),Ne(this.awareness,[this.doc.clientID],"disconnect");const O=o.Mf();o.uE(O,c),o.$F(O,0),o.uw(O,this.peerId),Ke(this,o._f(O)),m(this.name,this._bcSubscriber),this.bcconnected=!1,this.doc.off("update",this._docUpdateHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.webrtcConns.forEach(D=>D.destroy())}destroy(){this.disconnect(),typeof window!="undefined"?window.removeEventListener("beforeunload",this._beforeUnloadHandler):typeof Z!="undefined"&&Z.off("exit",this._beforeUnloadHandler)}}const ot=(b,O,D,H)=>{if(I.has(D))throw r.Ue(`A Yjs Doc connected to room "${D}" already exists!`);const K=new ut(b,O,D,H);return I.set(D,K),K},Wt=(b,O,D)=>{O.key?C(D,O.key).then(H=>{b.send({type:"publish",topic:O.name,data:i.s3(H)})}):b.send({type:"publish",topic:O.name,data:D})};class pn extends g{constructor(O){super(O),this.providers=new Set,this.on("connect",()=>{V(`connected (${O})`);const D=Array.from(I.keys());this.send({type:"subscribe",topics:D}),I.forEach(H=>Wt(this,H,{type:"announce",from:H.peerId}))}),this.on("message",D=>{switch(D.type){case"publish":{const H=D.topic,K=I.get(H);if(K==null||typeof H!="string")return;const se=q=>{const Ee=K.webrtcConns,Re=K.peerId;if(q==null||q.from===Re||q.to!==void 0&&q.to!==Re||K.bcConns.has(q.from))return;const Fe=Ee.has(q.from)?()=>{}:()=>K.provider.emit("peers",[{removed:[],added:[q.from],webrtcPeers:Array.from(K.webrtcConns.keys()),bcPeers:Array.from(K.bcConns)}]);switch(q.type){case"announce":Ee.size<K.provider.maxConns&&(R.Yu(Ee,q.from,()=>new ce(this,!0,q.from,K)),Fe());break;case"signal":if(q.signal.type==="offer"){const Ae=Ee.get(q.from);if(Ae){const Ye=q.token,dt=Ae.glareToken;if(dt&&dt>Ye){V("offer rejected: ",q.from);return}Ae.glareToken=void 0}}if(q.signal.type==="answer"){V("offer answered by: ",q.from);const Ae=Ee.get(q.from);Ae.glareToken=void 0}q.to===Re&&(R.Yu(Ee,q.from,()=>new ce(this,!1,q.from,K)).peer.signal(q.signal),Fe());break}};K.key?typeof D.data=="string"&&$(i.Gh(D.data),K.key).then(se):se(D.data)}}}),this.on("disconnect",()=>V(`disconnect (${O})`))}}const Ht=b=>{b.emit("status",[{connected:b.connected}])};class pt extends P.g{constructor(O,D,{signaling:H=["wss://y-webrtc-eu.fly.dev"],password:K=null,awareness:se=new Ce(D),maxConns:q=20+z.GW(h.TN()*15),filterBcConns:Ee=!0,peerOpts:Re={}}={}){super(),this.roomName=O,this.doc=D,this.filterBcConns=Ee,this.awareness=se,this.shouldConnect=!1,this.signalingUrls=H,this.signalingConns=[],this.maxConns=q,this.peerOpts=Re,this.key=K?xe(K,O):p.DB(null),this.room=null,this.key.then(Fe=>{this.room=ot(D,this,O,Fe),this.shouldConnect?this.room.connect():this.room.disconnect(),Ht(this)}),this.connect(),this.destroy=this.destroy.bind(this),D.on("destroy",this.destroy)}get connected(){return this.room!==null&&this.shouldConnect}connect(){this.shouldConnect=!0,this.signalingUrls.forEach(O=>{const D=R.Yu(_,O,()=>new pn(O));this.signalingConns.push(D),D.providers.add(this)}),this.room&&(this.room.connect(),Ht(this))}disconnect(){this.shouldConnect=!1,this.signalingConns.forEach(O=>{O.providers.delete(this),O.providers.size===0&&(O.destroy(),_.delete(O.url))}),this.room&&(this.room.disconnect(),Ht(this))}destroy(){this.doc.off("destroy",this.destroy),this.key.then(()=>{this.room.destroy(),I.delete(this.roomName)}),super.destroy()}}},53282:function(J,le,v){"use strict";v.d(le,{Ue:function(){return r}});var P=v(38725),fe=v(50959),z=v(7231);const{useDebugValue:N}=fe,{useSyncExternalStoreWithSelector:j}=z;let w=!1;const u=o=>o;function g(o,s=u,S){S&&!w&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),w=!0);const f=j(o.subscribe,o.getState,o.getServerState||o.getInitialState,s,S);return N(f),f}const R=o=>{typeof o!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const s=typeof o=="function"?(0,P.M)(o):o,S=(f,p)=>g(s,f,p);return Object.assign(S,s),S},r=o=>o?R(o):R;var h=o=>(console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`."),r(o))}}]);
}());